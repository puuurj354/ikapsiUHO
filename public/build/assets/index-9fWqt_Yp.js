import{a as x,j as e,H as b,L as w,r as l}from"./app-BYPX7exY.js";import{I as n,U as y}from"./icon-luoMfhnd.js";import{B as c}from"./badge-DYf0S4yF.js";import{B as d}from"./createLucideIcon-Dq00TWjs.js";import{C as h,a as p,b as C,c as k,d as D}from"./card-DcksEqIi.js";import{I as E}from"./input-0ciEC-p6.js";import{S as I,a as P,b as L,c as T,d as o}from"./select-CnkQK43M.js";import{A as B}from"./app-layout-CPcBQcKG.js";import{S as K}from"./search-2QknBgP8.js";import{C as u}from"./calendar-BnqgxJeL.js";import{C as H}from"./clock-Dzc3IX2P.js";import{M}from"./map-pin-BKxlB_-s.js";/* empty css            */import"./index-CqwLCbKw.js";import"./index-D44JfVef.js";import"./index-C5AO6lRJ.js";import"./index-BjqX8T_1.js";import"./index-K5sFZYLW.js";import"./index-B2M7mmwk.js";import"./chevron-down-h4Z-5Kg3.js";import"./index-adLzp77U.js";import"./index-DuEmgmZQ.js";import"./index-4Ns3tNZl.js";import"./app-logo-icon-Cin4KTOo.js";import"./image-CPV9mxE7.js";import"./loader-circle-BYEP1drJ.js";function oe({events:s,filters:m}){const g=[{title:"Dashboard",href:"/dashboard"},{title:"Event & Kegiatan",href:"/events"}],[r,f]=x.useState(m.search||""),[t,j]=x.useState(m.time||"all"),N=a=>{f(a),l.get("/events",{search:a,time:t!=="all"?t:void 0},{preserveState:!0,replace:!0})},v=a=>{j(a),l.get("/events",{search:r,time:a!=="all"?a:void 0},{preserveState:!0,replace:!0})},_=a=>new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),S=a=>new Date(a).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),i=a=>new Date(a)>new Date;return e.jsxs(B,{breadcrumbs:g,children:[e.jsx(b,{title:"Event & Kegiatan"}),e.jsxs("div",{className:"container mx-auto space-y-8 py-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Event & Kegiatan"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Ikuti berbagai event dan kegiatan alumni IKAPSI UHO"})]}),e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(E,{placeholder:"Cari event...",value:r,onChange:a=>N(a.target.value),className:"pl-9"})]})}),e.jsxs(I,{value:t,onValueChange:v,children:[e.jsx(P,{className:"w-full sm:w-[200px]",children:e.jsx(L,{placeholder:"Semua Event"})}),e.jsxs(T,{children:[e.jsx(o,{value:"all",children:"Semua Event"}),e.jsx(o,{value:"upcoming",children:"Event Mendatang"}),e.jsx(o,{value:"past",children:"Event Selesai"})]})]})]}),s.data.length===0?e.jsx(h,{children:e.jsx(p,{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx(u,{className:"mx-auto h-16 w-16 text-muted-foreground"}),e.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"Belum ada event"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Event akan segera hadir. Pantau terus halaman ini!"})]})})}):e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:s.data.map(a=>e.jsx(w,{href:`/events/${a.id}`,children:e.jsxs(h,{className:"group h-full overflow-hidden transition-all hover:border-primary hover:shadow-lg",children:[a.image&&e.jsxs("div",{className:"relative aspect-video w-full overflow-hidden bg-muted",children:[e.jsx("img",{src:a.image,alt:a.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105"}),!i(a.event_date)&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60",children:e.jsx(c,{variant:"secondary",className:"text-sm",children:"Event Selesai"})})]}),e.jsxs(C,{className:"space-y-3",children:[e.jsx("div",{className:"flex items-start justify-between gap-2",children:e.jsx(k,{className:"line-clamp-2 text-xl",children:a.title})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.is_registered&&e.jsx(c,{variant:"default",className:"text-xs",children:"âœ“ Terdaftar"}),a.is_full&&e.jsx(c,{variant:"destructive",className:"text-xs",children:"Penuh"}),!a.is_registration_open&&i(a.event_date)&&e.jsx(c,{variant:"secondary",className:"text-xs",children:"Pendaftaran Ditutup"})]})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsx(D,{className:"line-clamp-2",children:a.description}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(n,{iconNode:u,className:"h-4 w-4 shrink-0"}),e.jsx("span",{children:_(a.event_date)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(n,{iconNode:H,className:"h-4 w-4 shrink-0"}),e.jsx("span",{children:S(a.event_date)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(n,{iconNode:M,className:"h-4 w-4 shrink-0"}),e.jsx("span",{className:"line-clamp-1",children:a.location})]}),a.max_participants&&e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(n,{iconNode:y,className:"h-4 w-4 shrink-0"}),e.jsxs("span",{children:[a.registrations_count," ","/"," ",a.max_participants," ","peserta"]})]})]}),e.jsx(d,{className:"w-full",variant:a.is_registered?"outline":"default",disabled:!i(a.event_date)||a.is_full&&!a.is_registered||!a.is_registration_open&&!a.is_registered,children:i(a.event_date)?a.is_registered?"Lihat Detail":a.is_full?"Kuota Penuh":a.is_registration_open?"Daftar Sekarang":"Pendaftaran Ditutup":"Event Selesai"})]})]})},a.id))}),s.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Menampilkan ",s.data.length," dari ",s.total," ","event"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{variant:"outline",size:"sm",disabled:s.current_page===1,onClick:()=>l.get("/events",{page:s.current_page-1,search:r,time:t!=="all"?t:void 0},{preserveState:!0}),children:"Sebelumnya"}),e.jsx(d,{variant:"outline",size:"sm",disabled:s.current_page===s.last_page,onClick:()=>l.get("/events",{page:s.current_page+1,search:r,time:t!=="all"?t:void 0},{preserveState:!0}),children:"Selanjutnya"})]})]})]})]})}export{oe as default};
