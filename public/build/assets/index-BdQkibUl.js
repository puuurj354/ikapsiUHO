import{a as l,r as h,j as e,H as L,L as u}from"./app-Bcukgqwo.js";import{I as a,H as D,U}from"./icon-BXi89XAH.js";import{B as p}from"./badge-Cdu4dlrS.js";import{B as m}from"./createLucideIcon-C8KZloFJ.js";import{C as i,b as k,a as f}from"./card-CZARKXR4.js";import{I as z}from"./input-BN3wbxlY.js";import{S as B,a as T,b as H,c as I,d as c}from"./select-BJojsNBG.js";import{A as V,M as o,C as A}from"./app-layout-BBKhk5bG.js";import{P as G}from"./plus-CtGCHSer.js";import{S as K}from"./search-7XQfKQtX.js";import{P as M}from"./pin-CggOz15j.js";import{E as F}from"./eye-0Xxf3P1T.js";import{C as R}from"./chevron-left-TnJdBN2v.js";import{C as q}from"./circle-help-BTZG5AmR.js";import{G as J}from"./graduation-cap-Cl-Ibtgl.js";import{B as O}from"./briefcase-D19iXNQP.js";import{T as Q}from"./trending-up-BrSWYrCf.js";import{C as W}from"./calendar-B_5F7VDB.js";/* empty css            */import"./index-CoNzTBzt.js";import"./index-CypPyuSO.js";import"./index-t3FiFGvD.js";import"./index-unK9BD31.js";import"./chevron-down-CWz7lANM.js";import"./index-hT0U3kpW.js";import"./index-4Ns3tNZl.js";import"./app-logo-icon-DCVM2O1y.js";import"./loader-circle-uRkMHJYj.js";const X=[{title:"Dashboard",href:"/dashboard"},{title:"Forum Diskusi",href:"/forum"}],Y={MessageSquare:o,Users:U,Calendar:W,TrendingUp:Q,Briefcase:O,GraduationCap:J,HelpCircle:q};function ke({pinnedDiscussions:v,discussions:n,categories:w,filters:j}){const[d,P]=l.useState(j.search||""),[t,b]=l.useState(j.category?.toString()||"all"),[x,$]=l.useState(j.sort||"recent"),y=l.useCallback(()=>{h.get("/forum",{search:d||void 0,category:t!=="all"?t:void 0,sort:x},{preserveState:!0,preserveScroll:!0})},[d,t,x]);l.useEffect(()=>{const s=setTimeout(()=>{y()},500);return()=>clearTimeout(s)},[d,t,x,y]);const C=s=>{const r=new Date(s),N=new Date().getTime()-r.getTime(),g=Math.floor(N/6e4),S=Math.floor(N/36e5),_=Math.floor(N/864e5);return g<1?"Baru saja":g<60?`${g} menit yang lalu`:S<24?`${S} jam yang lalu`:_<7?`${_} hari yang lalu`:r.toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})},E=s=>Y[s]||o;return e.jsxs(V,{breadcrumbs:X,children:[e.jsx(L,{title:"Forum Diskusi"}),e.jsxs("div",{className:"container mx-auto space-y-8 py-8",children:[e.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight sm:text-3xl",children:"Forum Diskusi"}),e.jsx("p",{className:"text-sm text-muted-foreground sm:text-base",children:"Berbagi dan berdiskusi dengan sesama alumni"})]}),e.jsx(m,{asChild:!0,className:"w-full sm:w-auto",children:e.jsxs(u,{href:"/forum/create",children:[e.jsx(a,{iconNode:G,className:"mr-2 h-4 w-4"}),"Buat Diskusi"]})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 sm:gap-4 lg:grid-cols-4",children:w.map(s=>e.jsxs(i,{className:"cursor-pointer transition-all hover:border-primary hover:shadow-md",onClick:()=>b(s.id.toString()),children:[e.jsx(k,{className:"pb-2 sm:pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg sm:h-10 sm:w-10",style:{backgroundColor:`${s.color}20`},children:e.jsx(a,{iconNode:E(s.icon),className:"h-4 w-4 sm:h-5 sm:w-5",style:{color:s.color}})}),s.active_discussions_count!==void 0&&e.jsx(p,{variant:"secondary",className:"text-xs",children:s.active_discussions_count})]})}),e.jsxs(f,{children:[e.jsx("h3",{className:"text-sm font-semibold sm:text-base",children:s.name}),e.jsx("p",{className:"line-clamp-2 text-xs text-muted-foreground sm:text-sm",children:s.description})]})]},s.id))}),e.jsx(i,{children:e.jsx(k,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(a,{iconNode:K,className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(z,{placeholder:"Cari diskusi...",value:d,onChange:s=>P(s.target.value),className:"pl-9 text-sm"})]})}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[e.jsxs(B,{value:t,onValueChange:b,children:[e.jsx(T,{className:"w-full text-sm sm:w-[180px]",children:e.jsx(H,{placeholder:"Kategori"})}),e.jsxs(I,{children:[e.jsx(c,{value:"all",children:"Semua Kategori"}),w.map(s=>e.jsx(c,{value:s.id.toString(),children:s.name},s.id))]})]}),e.jsxs(B,{value:x,onValueChange:$,children:[e.jsx(T,{className:"w-full text-sm sm:w-[150px]",children:e.jsx(H,{placeholder:"Urutkan"})}),e.jsxs(I,{children:[e.jsx(c,{value:"recent",children:"Terbaru"}),e.jsx(c,{value:"popular",children:"Populer"}),e.jsx(c,{value:"oldest",children:"Terlama"})]})]})]})]})})}),v.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(a,{iconNode:M,className:"h-5 w-5"}),"Diskusi yang Di-pin"]}),e.jsx("div",{className:"space-y-4",children:v.map(s=>e.jsx(u,{href:`/forum/${s.slug}`,children:e.jsx(i,{className:"transition-all hover:border-primary hover:shadow-md",children:e.jsx(f,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("img",{src:s.user.profile_picture_url,alt:s.user.name,className:"h-10 w-10 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{variant:"outline",style:{borderColor:s.category.color,color:s.category.color},children:s.category.name}),e.jsxs(p,{children:[e.jsx(a,{iconNode:M,className:"mr-1 h-3 w-3"}),"Di-pin"]})]}),e.jsx("h3",{className:"mt-1 line-clamp-2 text-sm font-semibold hover:text-primary sm:text-base",children:s.title}),e.jsxs("p",{className:"truncate text-xs text-muted-foreground sm:text-sm",children:[s.user.name," •"," ",C(s.last_activity_at)]}),e.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-muted-foreground sm:gap-4 sm:text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{iconNode:F,className:"h-3 w-3 sm:h-4 sm:w-4"}),s.views_count]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{iconNode:o,className:"h-3 w-3 sm:h-4 sm:w-4"}),s.replies_count]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{iconNode:D,className:"h-3 w-3 sm:h-4 sm:w-4"}),s.likes_count]})]})]})]})})})},s.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Semua Diskusi"}),n.data.length===0?e.jsx(i,{children:e.jsxs(f,{className:"py-12 text-center",children:[e.jsx(a,{iconNode:o,className:"mx-auto h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"Belum ada diskusi"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Jadilah yang pertama memulai diskusi!"}),e.jsx(m,{asChild:!0,className:"mt-4",children:e.jsx(u,{href:"/forum/create",children:"Buat Diskusi"})})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:n.data.map(s=>e.jsx(u,{href:`/forum/${s.slug}`,children:e.jsx(i,{className:"transition-all hover:border-primary hover:shadow-md",children:e.jsx(f,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-4",children:[e.jsx("img",{src:s.user.profile_picture_url,alt:s.user.name,className:"h-8 w-8 flex-shrink-0 rounded-full sm:h-10 sm:w-10"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(p,{variant:"outline",className:"text-xs",style:{borderColor:s.category.color,color:s.category.color},children:s.category.name}),e.jsx("h3",{className:"mt-1 line-clamp-2 text-sm font-semibold hover:text-primary sm:text-base",children:s.title}),e.jsxs("p",{className:"truncate text-xs text-muted-foreground sm:text-sm",children:[s.user.name," ","•"," ",C(s.last_activity_at)]}),e.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-muted-foreground sm:gap-4 sm:text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{iconNode:F,className:"h-3 w-3 sm:h-4 sm:w-4"}),s.views_count]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{iconNode:o,className:"h-3 w-3 sm:h-4 sm:w-4"}),s.replies_count]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{iconNode:D,className:"h-3 w-3 sm:h-4 sm:w-4"}),s.likes_count]})]})]})]})})})},s.id))}),n.last_page>1&&e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-1 sm:gap-2",children:n.links.map((s,r)=>s.label.includes("Previous")?e.jsx(m,{variant:"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&h.get(s.url),className:"h-8 w-8 p-0 sm:h-9 sm:w-9",children:e.jsx(a,{iconNode:R,className:"h-3 w-3 sm:h-4 sm:w-4"})},r):s.label.includes("Next")?e.jsx(m,{variant:"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&h.get(s.url),className:"h-8 w-8 p-0 sm:h-9 sm:w-9",children:e.jsx(a,{iconNode:A,className:"h-3 w-3 sm:h-4 sm:w-4"})},r):e.jsx(m,{variant:s.active?"default":"outline",size:"sm",onClick:()=>s.url&&h.get(s.url),className:"h-8 min-w-[2rem] px-2 text-xs sm:h-9 sm:min-w-[2.25rem] sm:px-3 sm:text-sm",children:s.label},r))})]})]})]})]})}export{ke as default};
