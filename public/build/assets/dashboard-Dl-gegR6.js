import{u as L,j as e,a as S,H as _,L as p}from"./app-B2uLdC5s.js";import{I as i,U as j,B as C}from"./icon-CEZUC61e.js";import{B as f}from"./createLucideIcon-BXyHzq-F.js";import{D as P,a as U,b as T,c as H,d as O}from"./dialog-BHSSsarx.js";import{I as w}from"./input-B4M7mg2k.js";import{L as k}from"./label-Cau27ksP.js";import{T as F}from"./textarea-BJiCB0Tb.js";import{L as M}from"./loader-circle-zUgBhIy_.js";import{A as E,e as K,f as $,g as z,i as G,M as R}from"./app-layout-jJdAK6Sy.js";import{B as y}from"./badge-ChBf_Tak.js";import{C as o,b as m,c as x,d as g,a as h}from"./card-te4fvd2J.js";import{d as q}from"./index-4Ns3tNZl.js";import{G as u}from"./graduation-cap-BPlV4NOm.js";import{C as D}from"./calendar-ZC1vRAIi.js";import{C as B}from"./circle-check-big-CabAVvm_.js";import{C as J}from"./circle-alert-C8A9mrku.js";import{U as I}from"./user-C26zerDp.js";/* empty css            */import"./index-BiIr_T_F.js";import"./index-BFbh2RP3.js";import"./index-DbG0MvhG.js";import"./index-CHAcdM8o.js";import"./index-BrtU9OXb.js";import"./index-B0iNKQe2.js";import"./index-MuU6l8lt.js";import"./app-logo-icon-ghPTRdhp.js";import"./image-D3sFOeB3.js";function Q({open:N,onOpenChange:a,currentData:l}){const{data:n,setData:c,patch:b,processing:r,errors:t,reset:s}=L({angkatan:l.angkatan||"",profesi:l.profesi||"",bio:l.bio||""}),v=d=>{d.preventDefault(),b("/alumni/profile",{preserveScroll:!0,onSuccess:()=>{a(!1),s()}})},A=()=>{r||(a(!1),s())};return e.jsx(P,{open:N,onOpenChange:A,children:e.jsxs(U,{className:"sm:max-w-[500px]",children:[e.jsxs(T,{children:[e.jsx(H,{children:"Update Profil Alumni"}),e.jsx(O,{children:"Lengkapi informasi profil Anda sebagai alumni IKAPSI UHO"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"angkatan",children:"Angkatan"}),e.jsx(w,{id:"angkatan",type:"text",placeholder:"contoh: 2020",value:n.angkatan,onChange:d=>c("angkatan",d.target.value),maxLength:4,disabled:r}),t.angkatan&&e.jsx("p",{className:"text-sm text-destructive",children:t.angkatan})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"profesi",children:"Profesi / Pekerjaan"}),e.jsx(w,{id:"profesi",type:"text",placeholder:"contoh: Psikolog Klinis",value:n.profesi,onChange:d=>c("profesi",d.target.value),maxLength:255,disabled:r}),t.profesi&&e.jsx("p",{className:"text-sm text-destructive",children:t.profesi})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"bio",children:"Bio / Deskripsi Singkat"}),e.jsx(F,{id:"bio",placeholder:"Ceritakan sedikit tentang diri Anda...",value:n.bio,onChange:d=>c("bio",d.target.value),maxLength:1e3,rows:4,disabled:r}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.bio.length,"/1000 karakter"]}),t.bio&&e.jsx("p",{className:"text-sm text-destructive",children:t.bio})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(f,{type:"button",variant:"outline",onClick:A,disabled:r,children:"Batal"}),e.jsxs(f,{type:"submit",disabled:r,children:[r&&e.jsx(i,{iconNode:M,className:"mr-2 h-4 w-4 animate-spin"}),r?"Menyimpan...":"Simpan"]})]})]})]})})}const V=[{title:"Dashboard",href:q().url}];function ye({dashboardData:N}){const{user_profile:a,statistics:l,recent_alumni:n,alumni_by_year:c}=N,[b,r]=S.useState(!1),t=[{title:"Total Alumni",value:l.total_alumni.toLocaleString("id-ID"),description:"Alumni terdaftar",icon:j,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-950"},{title:"Teman Angkatan",value:l.alumni_in_same_year.toLocaleString("id-ID"),description:`Angkatan ${a.angkatan||"N/A"}`,icon:u,color:"text-green-600",bgColor:"bg-green-100 dark:bg-green-950"},{title:"Registrasi Baru",value:l.recent_registrations.toLocaleString("id-ID"),description:"30 hari terakhir",icon:D,color:"text-orange-600",bgColor:"bg-orange-100 dark:bg-orange-950"}];return e.jsxs(E,{breadcrumbs:V,children:[e.jsx(_,{title:"Dashboard Alumni"}),e.jsxs("div",{className:"container mx-auto space-y-8 py-8",children:[e.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Selamat Datang, ",a.name,"!"]}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Dashboard IKAPSI UHO - Ikatan Alumni Psikologi Universitas Halu Oleo"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[a.email_verified?e.jsxs(y,{variant:"secondary",className:"text-green-600",children:[e.jsx(B,{className:"mr-1 h-3 w-3"}),"Email Terverifikasi"]}):e.jsxs(y,{variant:"destructive",children:[e.jsx(J,{className:"mr-1 h-3 w-3"}),"Email Belum Terverifikasi"]}),a.two_factor_enabled&&e.jsxs(y,{variant:"outline",children:[e.jsx(B,{className:"mr-1 h-3 w-3"}),"2FA Aktif"]})]})]}),e.jsxs(o,{children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex items-center",children:[e.jsx(I,{className:"mr-2 h-5 w-5"}),"Profil Alumni"]}),e.jsx(g,{children:"Informasi profil Anda sebagai alumni IKAPSI UHO"})]}),e.jsxs(h,{children:[e.jsxs("div",{className:"mb-6 flex items-center space-x-4",children:[e.jsxs(K,{className:"h-20 w-20",children:[e.jsx($,{src:a.profile_picture_url}),e.jsx(z,{className:"text-lg",children:a.name.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2)})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:a.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nama Lengkap"}),e.jsx("p",{className:"text-sm",children:a.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsx("p",{className:"text-sm",children:a.email})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Angkatan"}),e.jsx("p",{className:"text-sm",children:a.angkatan||"Belum diisi"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Profesi"}),e.jsx("p",{className:"text-sm",children:a.profesi||"Belum diisi"})]})]}),a.bio&&e.jsxs("div",{className:"mt-4 space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Bio"}),e.jsx("p",{className:"text-sm",children:a.bio})]}),e.jsxs("div",{className:"mt-4 flex space-x-2",children:[e.jsx(p,{href:"/settings/profile",children:e.jsxs(f,{variant:"outline",size:"sm",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Update Profil"]})}),e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>r(!0),children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Lengkapi Data"]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:t.map((s,v)=>e.jsxs(o,{children:[e.jsx(m,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{className:"text-sm font-medium text-muted-foreground",children:s.title}),e.jsx("div",{className:`rounded-lg p-2 ${s.bgColor}`,children:e.jsx(i,{iconNode:s.icon,className:`h-5 w-5 ${s.color}`})})]})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold",children:s.value}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:s.description})]})]},v))}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(o,{children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex items-center",children:[e.jsx(j,{className:"mr-2 h-5 w-5"}),"Alumni Terbaru"]}),e.jsx(g,{children:"Alumni yang baru bergabung"})]}),e.jsx(h,{children:e.jsx("div",{className:"space-y-4",children:n.length>0?n.map(s=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-3 text-primary",children:e.jsx(i,{iconNode:I,className:"h-5 w-5"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate font-semibold",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.angkatan&&`Angkatan ${s.angkatan}`,s.profesi&&` â€¢ ${s.profesi}`]})]})]},s.id)):e.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:[e.jsx(i,{iconNode:j,className:"mx-auto mb-3 h-12 w-12 opacity-50"}),e.jsx("p",{children:"Belum ada alumni terbaru"})]})})})]}),e.jsxs(o,{children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex items-center",children:[e.jsx(u,{className:"mr-2 h-5 w-5"}),"Alumni per Angkatan"]}),e.jsx(g,{children:"Distribusi alumni berdasarkan angkatan"})]}),e.jsx(h,{children:e.jsx("div",{className:"space-y-4",children:c.length>0?c.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-3 text-primary",children:e.jsx(i,{iconNode:u,className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold",children:["Angkatan ",s.angkatan]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.total," alumni"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-2xl font-bold",children:s.total})})]},s.angkatan)):e.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:[e.jsx(i,{iconNode:u,className:"mx-auto mb-3 h-12 w-12 opacity-50"}),e.jsx("p",{children:"Belum ada data alumni berdasarkan angkatan"})]})})})]})]}),e.jsxs(o,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Aksi Cepat"}),e.jsx(g,{children:"Menu navigasi alumni"})]}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsxs(p,{href:"/alumni/directory",className:"flex items-center space-x-3 rounded-lg border p-4 transition-all hover:border-primary hover:bg-primary/5 hover:shadow-md",children:[e.jsx(i,{iconNode:j,className:"h-5 w-5 text-primary transition-transform hover:scale-110"}),e.jsx("span",{className:"font-medium",children:"Direktori Alumni"})]}),e.jsxs(p,{href:"/forum",className:"flex items-center space-x-3 rounded-lg border p-4 transition-all hover:border-primary hover:bg-primary/5 hover:shadow-md",children:[e.jsx(i,{iconNode:R,className:"h-5 w-5 text-primary transition-transform hover:scale-110"}),e.jsx("span",{className:"font-medium",children:"Forum Diskusi"})]}),e.jsxs(p,{href:"/events",className:"flex items-center space-x-3 rounded-lg border p-4 transition-all hover:border-primary hover:bg-primary/5 hover:shadow-md",children:[e.jsx(i,{iconNode:D,className:"h-5 w-5 text-primary transition-transform hover:scale-110"}),e.jsx("span",{className:"font-medium",children:"Event & Kegiatan"})]}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border p-4",children:[e.jsx(i,{iconNode:C,className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"font-medium",children:"Berita & Artikel"})]})]})})]}),e.jsx(Q,{open:b,onOpenChange:r,currentData:{angkatan:a.angkatan,profesi:a.profesi,bio:a.bio}})]})]})}export{ye as default};
