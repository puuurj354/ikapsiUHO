import{a as m,u as f,j as e,H as W,r as _}from"./app-K8gLvUNf.js";import{I as x,U as $}from"./icon-CoeOx3nA.js";import{B as t}from"./createLucideIcon-BUk1yjLu.js";import{C as R,a as z}from"./card-CwzcP2fc.js";import{D as v,a as N,b,c as C,d as k,e as D}from"./dialog-3OotnoXp.js";import{A as J,T as Q,D as X,a as Y,b as Z,c as w,d as ee,M as E}from"./app-layout-CcPCVwKI.js";import{I as l}from"./input-DvlQ9XiZ.js";import{L as i}from"./label-DsZtBy2O.js";import{S as T,a as S,b as y,c as F,d as M}from"./select-C_04P8gS.js";import{T as se,a as ae,b as I,c as n,d as re,e as o}from"./table-OZ9zPYX6.js";import{T as B}from"./textarea-c-RTECtR.js";import{P as K}from"./plus-CotjYR-p.js";import{E as ie}from"./ellipsis-vertical-O9NwPtvc.js";import{P as te}from"./pencil-DKmGH4MA.js";import{T as le}from"./trash-2-Zr7JRgw2.js";import{C as ne}from"./calendar-DqpoqedZ.js";import{T as oe}from"./trending-up-CvXP6PEK.js";import{B as ce}from"./briefcase-C_cq9Shf.js";import{G as de}from"./graduation-cap-C9tJqWJi.js";import{C as me}from"./circle-help-gy4YoPcS.js";/* empty css            */import"./index-II_qNVep.js";import"./index-DXInoakV.js";import"./index-Blxf6pSk.js";import"./index-Dlylw4BJ.js";import"./index-4Ns3tNZl.js";import"./app-logo-icon-C_Dj7i7e.js";import"./loader-circle-CSPd4INq.js";import"./index-DnEmnCc_.js";import"./chevron-down-CHNV7BmT.js";const h=[{value:"MessageSquare",label:"Message Square",icon:E},{value:"Users",label:"Users",icon:$},{value:"Calendar",label:"Calendar",icon:ne},{value:"TrendingUp",label:"Trending Up",icon:oe},{value:"Briefcase",label:"Briefcase",icon:ce},{value:"GraduationCap",label:"Graduation Cap",icon:de},{value:"HelpCircle",label:"Help Circle",icon:me}];function Ve({categories:p}){const H=[{title:"Dashboard",href:"/dashboard"},{title:"Admin",href:"#"},{title:"Kategori Forum",href:"/admin/forum/categories"}],[U,c]=m.useState(!1),[O,d]=m.useState(!1),[u,j]=m.useState(null),r=f({name:"",description:"",icon:"MessageSquare",color:"#3b82f6"}),a=f({name:"",description:"",icon:"MessageSquare",color:"#3b82f6"}),P=s=>{s.preventDefault(),r.post("/admin/forum/categories",{onSuccess:()=>{c(!1),r.reset()}})},A=s=>{s.preventDefault(),u&&a.put(`/admin/forum/categories/${u.id}`,{onSuccess:()=>{d(!1),j(null),a.reset()}})},q=s=>{j(s),a.setData({name:s.name,description:s.description||"",icon:s.icon,color:s.color}),d(!0)},G=s=>{confirm("Apakah Anda yakin ingin menghapus kategori ini? Kategori yang memiliki diskusi tidak dapat dihapus.")&&_.delete(`/admin/forum/categories/${s}`,{preserveScroll:!0})},V=s=>{const g=h.find(L=>L.value===s);return g?g.icon:E};return e.jsxs(J,{breadcrumbs:H,children:[e.jsx(W,{title:"Manajemen Kategori Forum"}),e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6 px-4 py-6 md:px-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Manajemen Kategori Forum"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kelola kategori untuk forum diskusi"})]}),e.jsxs(t,{onClick:()=>c(!0),children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Tambah Kategori"]})]}),e.jsx(R,{children:e.jsx(z,{className:"p-0",children:p.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(Q,{className:"mb-4 h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Belum Ada Kategori"}),e.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Buat kategori pertama untuk mengorganisir diskusi"}),e.jsxs(t,{onClick:()=>c(!0),children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Tambah Kategori"]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(se,{children:[e.jsx(ae,{children:e.jsxs(I,{children:[e.jsx(n,{children:"Ikon"}),e.jsx(n,{children:"Nama"}),e.jsx(n,{children:"Deskripsi"}),e.jsx(n,{children:"Warna"}),e.jsx(n,{className:"text-center",children:"Diskusi"}),e.jsx(n,{className:"text-right",children:"Aksi"})]})}),e.jsx(re,{children:p.map(s=>e.jsxs(I,{children:[e.jsx(o,{children:e.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-lg",style:{backgroundColor:`${s.color}20`},children:e.jsx(x,{iconNode:V(s.icon),className:"h-5 w-5",style:{color:s.color}})})}),e.jsx(o,{children:e.jsx("span",{className:"font-medium",children:s.name})}),e.jsx(o,{children:e.jsx("p",{className:"line-clamp-2 text-sm text-muted-foreground",children:s.description||"-"})}),e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 rounded",style:{backgroundColor:s.color}}),e.jsx("code",{className:"text-xs",children:s.color})]})}),e.jsx(o,{className:"text-center",children:s.discussions_count}),e.jsx(o,{className:"text-right",children:e.jsxs(X,{children:[e.jsx(Y,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",children:e.jsx(ie,{className:"h-4 w-4"})})}),e.jsxs(Z,{align:"end",children:[e.jsxs(w,{onClick:()=>q(s),children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsx(ee,{}),e.jsxs(w,{onClick:()=>G(s.id),className:"text-destructive focus:text-destructive",disabled:s.discussions_count>0,children:[e.jsx(le,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})})]},s.id))})]})})})})]}),e.jsx(v,{open:U,onOpenChange:c,children:e.jsxs(N,{children:[e.jsxs(b,{children:[e.jsx(C,{children:"Tambah Kategori Baru"}),e.jsx(k,{children:"Buat kategori baru untuk forum diskusi"})]}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"create-name",children:["Nama Kategori",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(l,{id:"create-name",value:r.data.name,onChange:s=>r.setData("name",s.target.value),placeholder:"Contoh: Diskusi Umum"}),r.errors.name&&e.jsx("p",{className:"text-sm text-destructive",children:r.errors.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"create-description",children:"Deskripsi (Opsional)"}),e.jsx(B,{id:"create-description",value:r.data.description,onChange:s=>r.setData("description",s.target.value),placeholder:"Deskripsi singkat kategori",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"create-icon",children:"Ikon"}),e.jsxs(T,{value:r.data.icon,onValueChange:s=>r.setData("icon",s),children:[e.jsx(S,{children:e.jsx(y,{placeholder:"Pilih ikon"})}),e.jsx(F,{children:h.map(s=>e.jsx(M,{value:s.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{iconNode:s.icon,className:"h-4 w-4"}),s.label]})},s.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"create-color",children:"Warna"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{id:"create-color",type:"color",value:r.data.color,onChange:s=>r.setData("color",s.target.value),className:"h-10 w-20"}),e.jsx(l,{type:"text",value:r.data.color,onChange:s=>r.setData("color",s.target.value),placeholder:"#3b82f6"})]})]}),e.jsxs(D,{children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Batal"}),e.jsx(t,{type:"submit",disabled:r.processing,children:r.processing?"Menyimpan...":"Simpan"})]})]})]})}),e.jsx(v,{open:O,onOpenChange:d,children:e.jsxs(N,{children:[e.jsxs(b,{children:[e.jsx(C,{children:"Edit Kategori"}),e.jsx(k,{children:"Perbarui informasi kategori forum"})]}),e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"edit-name",children:["Nama Kategori",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(l,{id:"edit-name",value:a.data.name,onChange:s=>a.setData("name",s.target.value),placeholder:"Contoh: Diskusi Umum"}),a.errors.name&&e.jsx("p",{className:"text-sm text-destructive",children:a.errors.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"edit-description",children:"Deskripsi (Opsional)"}),e.jsx(B,{id:"edit-description",value:a.data.description,onChange:s=>a.setData("description",s.target.value),placeholder:"Deskripsi singkat kategori",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"edit-icon",children:"Ikon"}),e.jsxs(T,{value:a.data.icon,onValueChange:s=>a.setData("icon",s),children:[e.jsx(S,{children:e.jsx(y,{placeholder:"Pilih ikon"})}),e.jsx(F,{children:h.map(s=>e.jsx(M,{value:s.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{iconNode:s.icon,className:"h-4 w-4"}),s.label]})},s.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"edit-color",children:"Warna"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{id:"edit-color",type:"color",value:a.data.color,onChange:s=>a.setData("color",s.target.value),className:"h-10 w-20"}),e.jsx(l,{type:"text",value:a.data.color,onChange:s=>a.setData("color",s.target.value),placeholder:"#3b82f6"})]})]}),e.jsxs(D,{children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Batal"}),e.jsx(t,{type:"submit",disabled:a.processing,children:a.processing?"Menyimpan...":"Perbarui"})]})]})]})})]})}export{Ve as default};
