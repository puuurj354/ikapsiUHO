import{j as e,H as T,r as _}from"./app-Bcukgqwo.js";import{I as i,U as j}from"./icon-BXi89XAH.js";import{A as k,e as A,f as B,g as H}from"./app-layout-BBKhk5bG.js";import{B as u}from"./badge-Cdu4dlrS.js";import{B as I}from"./createLucideIcon-C8KZloFJ.js";import{C as n,b as c,c as m,d as p,a as x}from"./card-CZARKXR4.js";import{S as E,a as L,b as P,c as $,d as o}from"./select-BJojsNBG.js";import{T as M,a as R,b as f,c as t,d as U,e as r}from"./table-DvCI5pmi.js";import{A as V}from"./arrow-left-BuwaRCDD.js";import{C as N}from"./calendar-B_5F7VDB.js";import{M as F}from"./map-pin-C_PydcUz.js";/* empty css            */import"./index-t3FiFGvD.js";import"./index-CypPyuSO.js";import"./index-CoNzTBzt.js";import"./index-hT0U3kpW.js";import"./index-4Ns3tNZl.js";import"./app-logo-icon-DCVM2O1y.js";import"./loader-circle-uRkMHJYj.js";import"./index-unK9BD31.js";import"./chevron-down-CWz7lANM.js";function me({event:a,registrations:l}){const g=[{title:"Dashboard Admin",href:"/admin/dashboard"},{title:"Manajemen Event",href:"/admin/events"},{title:a.title,href:`/admin/events/${a.id}/registrations`}],b=l.filter(s=>s.status==="registered").length,v=l.filter(s=>s.status==="attended").length,w=l.filter(s=>s.status==="cancelled").length,h=s=>new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),C=(s,d,S)=>{_.patch(`/admin/events/${a.id}/registrations/${d}`,{status:S},{preserveScroll:!0})},D=s=>{switch(s){case"registered":return"default";case"attended":return"secondary";case"cancelled":return"destructive";default:return"outline"}},y=s=>{switch(s){case"registered":return"Terdaftar";case"attended":return"Hadir";case"cancelled":return"Dibatalkan";default:return s}};return e.jsxs(k,{breadcrumbs:g,children:[e.jsx(T,{title:`Pendaftar - ${a.title}`}),e.jsxs("div",{className:"container mx-auto space-y-8 py-8",children:[e.jsx(I,{variant:"ghost",asChild:!0,children:e.jsxs("a",{href:"/admin/events",children:[e.jsx(i,{iconNode:V,className:"mr-2 h-4 w-4"}),"Kembali ke Daftar Event"]})}),e.jsxs(n,{children:[a.image&&e.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-t-lg bg-muted",children:e.jsx("img",{src:a.image,alt:a.title,className:"h-full w-full object-cover"})}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-2xl",children:a.title}),e.jsx(p,{children:a.description})]}),e.jsx(u,{variant:a.is_published?"default":"secondary",children:a.is_published?"Published":"Draft"})]})}),e.jsx(x,{className:"space-y-3",children:e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(i,{iconNode:N,className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:h(a.event_date)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(i,{iconNode:F,className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:a.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(i,{iconNode:j,className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[l.length," pendaftar",a.max_participants&&` / ${a.max_participants} max`]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(i,{iconNode:N,className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["Batas:"," ",h(a.registration_deadline)]})]})]})})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs(n,{children:[e.jsx(c,{className:"pb-3",children:e.jsx(m,{className:"text-sm font-medium",children:"Terdaftar"})}),e.jsx(x,{children:e.jsx("div",{className:"text-2xl font-bold",children:b})})]}),e.jsxs(n,{children:[e.jsx(c,{className:"pb-3",children:e.jsx(m,{className:"text-sm font-medium",children:"Hadir"})}),e.jsx(x,{children:e.jsx("div",{className:"text-2xl font-bold",children:v})})]}),e.jsxs(n,{children:[e.jsx(c,{className:"pb-3",children:e.jsx(m,{className:"text-sm font-medium",children:"Dibatalkan"})}),e.jsx(x,{children:e.jsx("div",{className:"text-2xl font-bold",children:w})})]})]}),e.jsxs(n,{children:[e.jsxs(c,{children:[e.jsx(m,{children:"Daftar Pendaftar"}),e.jsx(p,{children:"Kelola status kehadiran peserta event"})]}),e.jsx(x,{children:l.length===0?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(j,{className:"mx-auto h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"Belum ada pendaftar"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Event ini belum memiliki pendaftar"})]})}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(M,{children:[e.jsx(R,{children:e.jsxs(f,{children:[e.jsx(t,{className:"w-[80px]",children:"Foto"}),e.jsx(t,{children:"Nama"}),e.jsx(t,{children:"Email"}),e.jsx(t,{children:"Angkatan"}),e.jsx(t,{children:"Profesi"}),e.jsx(t,{children:"Tgl Daftar"}),e.jsx(t,{children:"Status"})]})}),e.jsx(U,{children:l.map(s=>e.jsxs(f,{children:[e.jsx(r,{children:e.jsxs(A,{className:"h-10 w-10",children:[e.jsx(B,{src:s.user.profile_picture_url,alt:s.user.name}),e.jsx(H,{children:s.user.name.split(" ").map(d=>d[0]).join("").toUpperCase().slice(0,2)})]})}),e.jsx(r,{className:"font-medium",children:s.user.name}),e.jsx(r,{children:s.user.email}),e.jsx(r,{children:s.user.angkatan||"-"}),e.jsx(r,{children:s.user.profesi||"-"}),e.jsx(r,{children:new Date(s.registered_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}),e.jsx(r,{children:e.jsxs(E,{value:s.status,onValueChange:d=>C(s.id,s.user_id,d),children:[e.jsx(L,{className:"w-[140px]",children:e.jsx(P,{children:e.jsx(u,{variant:D(s.status),children:y(s.status)})})}),e.jsxs($,{children:[e.jsx(o,{value:"registered",children:"Terdaftar"}),e.jsx(o,{value:"attended",children:"Hadir"}),e.jsx(o,{value:"cancelled",children:"Dibatalkan"})]})]})})]},s.id))})]})})})]})]})]})}export{me as default};
