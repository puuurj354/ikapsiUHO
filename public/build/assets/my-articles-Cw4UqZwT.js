import{a as x,j as e,H as D,r as a}from"./app-K8gLvUNf.js";import{B as A}from"./badge-DJGv1rFR.js";import{B as i}from"./createLucideIcon-BUk1yjLu.js";import{C as h,b as T,c as _,d as B,a as u}from"./card-CwzcP2fc.js";import{A as M,F as E,D as F,a as H,b as I,c,d as P}from"./app-layout-CcPCVwKI.js";import{I as V}from"./input-DvlQ9XiZ.js";import{S as L,a as $,b as z,c as J,d as o}from"./select-C_04P8gS.js";import{T as K,a as Q,b as p,c as r,d as R,e as l}from"./table-OZ9zPYX6.js";import{P as j}from"./plus-CotjYR-p.js";import{S as q}from"./search-rCgaJylR.js";import{C as G}from"./calendar-DqpoqedZ.js";import{E as f}from"./eye-UfXyQXNh.js";import{E as O}from"./ellipsis-vertical-O9NwPtvc.js";import{P as U}from"./pencil-DKmGH4MA.js";import{T as W}from"./trash-2-Zr7JRgw2.js";/* empty css            */import"./index-II_qNVep.js";import"./index-DXInoakV.js";import"./index-Blxf6pSk.js";import"./index-Dlylw4BJ.js";import"./icon-CoeOx3nA.js";import"./index-4Ns3tNZl.js";import"./app-logo-icon-C_Dj7i7e.js";import"./loader-circle-CSPd4INq.js";import"./index-DnEmnCc_.js";import"./chevron-down-CHNV7BmT.js";function Se({articles:t,filters:m}){const g=[{title:"Dashboard",href:"/dashboard"},{title:"Artikel Saya",href:"/articles/my-articles"}],[n,b]=x.useState(m.search||""),[d,v]=x.useState(m.status||"all"),N=s=>{s.preventDefault(),a.get("/articles/my-articles",{search:n,status:d!=="all"?d:void 0},{preserveState:!0,preserveScroll:!0})},y=s=>{v(s),a.get("/articles/my-articles",{search:n,status:s!=="all"?s:void 0},{preserveState:!0,preserveScroll:!0})},S=s=>{confirm("Apakah Anda yakin ingin menghapus artikel ini?")&&a.delete(`/articles/${s}`,{preserveScroll:!0})},k=s=>{a.post(`/articles/${s}/toggle-publish`,{},{preserveScroll:!0})},w=s=>new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"});return e.jsxs(M,{breadcrumbs:g,children:[e.jsx(D,{title:"Artikel Saya"}),e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6 px-4 py-6 md:px-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Artikel Saya"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kelola artikel yang telah Anda buat"})]}),e.jsxs(i,{onClick:()=>a.visit("/articles/create"),children:[e.jsx(j,{className:"mr-2 h-4 w-4"}),"Buat Artikel Baru"]})]}),e.jsxs(h,{children:[e.jsxs(T,{children:[e.jsx(_,{children:"Filter Artikel"}),e.jsx(B,{children:"Cari dan filter artikel Anda"})]}),e.jsx(u,{children:e.jsxs("form",{onSubmit:N,className:"flex flex-col gap-4 sm:flex-row",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(q,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(V,{placeholder:"Cari judul artikel...",value:n,onChange:s=>b(s.target.value),className:"pl-10"})]}),e.jsxs(L,{value:d,onValueChange:y,children:[e.jsx($,{className:"w-full sm:w-[180px]",children:e.jsx(z,{placeholder:"Status"})}),e.jsxs(J,{children:[e.jsx(o,{value:"all",children:"Semua"}),e.jsx(o,{value:"published",children:"Dipublikasikan"}),e.jsx(o,{value:"draft",children:"Draft"})]})]}),e.jsx(i,{type:"submit",children:"Cari"})]})})]}),e.jsx(h,{children:e.jsx(u,{className:"p-0",children:t.data.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(E,{className:"mb-4 h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Belum Ada Artikel"}),e.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Mulai berbagi pengetahuan Anda dengan membuat artikel pertama"}),e.jsxs(i,{onClick:()=>a.visit("/articles/create"),children:[e.jsx(j,{className:"mr-2 h-4 w-4"}),"Buat Artikel"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(K,{children:[e.jsx(Q,{children:e.jsxs(p,{children:[e.jsx(r,{children:"Judul"}),e.jsx(r,{children:"Kategori"}),e.jsx(r,{children:"Status"}),e.jsx(r,{children:"Tanggal"}),e.jsx(r,{className:"text-center",children:"Views"}),e.jsx(r,{className:"text-right",children:"Aksi"})]})}),e.jsx(R,{children:t.data.map(s=>e.jsxs(p,{children:[e.jsx(l,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.title}),s.excerpt&&e.jsx("p",{className:"mt-1 line-clamp-1 text-sm text-muted-foreground",children:s.excerpt})]})}),e.jsx(l,{children:s.category&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:s.category.color}}),e.jsx("span",{className:"text-sm",children:s.category.name})]})}),e.jsx(l,{children:e.jsx(A,{variant:s.is_published?"default":"secondary",children:s.is_published?"Dipublikasikan":"Draft"})}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(G,{className:"h-4 w-4"}),w(s.published_at||s.created_at)]})}),e.jsx(l,{className:"text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm",children:[e.jsx(f,{className:"h-4 w-4 text-muted-foreground"}),s.views_count]})}),e.jsx(l,{className:"text-right",children:e.jsxs(F,{children:[e.jsx(H,{asChild:!0,children:e.jsx(i,{variant:"ghost",size:"icon",children:e.jsx(O,{className:"h-4 w-4"})})}),e.jsxs(I,{align:"end",children:[e.jsxs(c,{onClick:()=>a.visit(`/articles/${s.id}/edit`),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(c,{onClick:()=>k(s.id),children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),s.is_published?"Jadikan Draft":"Publikasikan"]}),e.jsx(P,{}),e.jsxs(c,{onClick:()=>S(s.id),className:"text-destructive focus:text-destructive",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})})]},s.id))})]})}),t.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between border-t px-6 py-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Menampilkan ",t.from," hingga"," ",t.to," dari ",t.total," ","artikel"]}),e.jsx("div",{className:"flex gap-2",children:t.links.map((s,C)=>e.jsx(i,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&a.visit(s.url),dangerouslySetInnerHTML:{__html:s.label}},C))})]})]})})})]})]})}export{Se as default};
