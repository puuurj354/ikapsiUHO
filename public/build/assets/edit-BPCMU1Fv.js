import{u as f,j as e,H as b,r as k}from"./app-BYPX7exY.js";import{T as v}from"./tiptap-editor-84NvXd3S.js";import{B as d}from"./createLucideIcon-Dq00TWjs.js";import{C as n,b as m,c as o,a as x}from"./card-DcksEqIi.js";import{I as p}from"./input-0ciEC-p6.js";import{L as l}from"./label-lGgSpI-t.js";import{S as N,a as _,b as y,c as C,d as S}from"./select-CnkQK43M.js";import{T as A}from"./textarea-BhDF3aqJ.js";import{A as w}from"./app-layout-CPcBQcKG.js";import{A as P}from"./arrow-left-DXFC2uSM.js";import{S as T}from"./save-B-j-Z5vP.js";/* empty css            */import"./icon-luoMfhnd.js";import"./separator-BLkMSLq-.js";import"./index-CqwLCbKw.js";import"./image-CPV9mxE7.js";import"./index-D44JfVef.js";import"./index-C5AO6lRJ.js";import"./index-BjqX8T_1.js";import"./index-K5sFZYLW.js";import"./index-B2M7mmwk.js";import"./chevron-down-h4Z-5Kg3.js";import"./index-adLzp77U.js";import"./index-DuEmgmZQ.js";import"./index-4Ns3tNZl.js";import"./app-logo-icon-Cin4KTOo.js";import"./calendar-BnqgxJeL.js";import"./loader-circle-BYEP1drJ.js";function re({article:s,categories:u}){const h=[{title:"Dashboard",href:"/dashboard"},{title:"Artikel Saya",href:"/articles/my-articles"},{title:"Edit Artikel",href:`/articles/${s.id}/edit`}],{data:r,setData:i,post:j,processing:c,errors:a}=f({title:s.title||"",content:s.content||"",excerpt:s.excerpt||"",article_category_id:s.article_category_id?.toString()||"",featured_image:null,is_published:s.is_published,_method:"PATCH"}),g=t=>{t.preventDefault(),j(`/articles/${s.id}`,{forceFormData:!0})};return e.jsxs(w,{breadcrumbs:h,children:[e.jsx(b,{title:`Edit: ${s.title}`}),e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6 px-4 py-6 md:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Edit Artikel"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Perbarui artikel Anda"})]}),e.jsxs(d,{variant:"outline",onClick:()=>k.visit("/articles/my-articles"),children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Kembali"]})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs(n,{children:[e.jsx(m,{children:e.jsx(o,{children:"Informasi Artikel"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"title",children:["Judul Artikel",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(p,{id:"title",value:r.title,onChange:t=>i("title",t.target.value),placeholder:"Masukkan judul artikel",className:a.title?"border-destructive":""}),a.title&&e.jsx("p",{className:"text-sm text-destructive",children:a.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"excerpt",children:"Ringkasan (Opsional)"}),e.jsx(A,{id:"excerpt",value:r.excerpt,onChange:t=>i("excerpt",t.target.value),placeholder:"Ringkasan singkat artikel (maks. 500 karakter)",rows:3,maxLength:500}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.excerpt.length,"/500 karakter"]}),a.excerpt&&e.jsx("p",{className:"text-sm text-destructive",children:a.excerpt})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"category",children:"Kategori"}),e.jsxs(N,{value:r.article_category_id,onValueChange:t=>i("article_category_id",t),children:[e.jsx(_,{children:e.jsx(y,{placeholder:"Pilih kategori"})}),e.jsx(C,{children:u.map(t=>e.jsx(S,{value:t.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:t.color}}),t.name]})},t.id))})]}),a.article_category_id&&e.jsx("p",{className:"text-sm text-destructive",children:a.article_category_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"featured_image",children:"Gambar Unggulan"}),s.featured_image&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:s.featured_image_url,alt:s.title,className:"h-32 w-auto rounded-lg object-cover"})}),e.jsx(p,{id:"featured_image",type:"file",accept:"image/*",onChange:t=>i("featured_image",t.target.files?.[0]||null)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: JPG, PNG, WebP. Maksimal 2MB. Biarkan kosong jika tidak ingin mengubah gambar."}),a.featured_image&&e.jsx("p",{className:"text-sm text-destructive",children:a.featured_image})]})]})]}),e.jsxs(n,{children:[e.jsx(m,{children:e.jsxs(o,{children:["Konten Artikel",e.jsx("span",{className:"text-destructive",children:"*"})]})}),e.jsxs(x,{children:[e.jsx(v,{content:r.content,onChange:t=>i("content",t),placeholder:"Tulis artikel Anda di sini...",className:a.content?"border-destructive":""}),a.content&&e.jsx("p",{className:"mt-2 text-sm text-destructive",children:a.content})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx(d,{type:"submit",variant:"outline",disabled:c,onClick:()=>i("is_published",!1),children:"Simpan Sebagai Draft"}),e.jsxs(d,{type:"submit",disabled:c,onClick:()=>i("is_published",!0),children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),c?"Menyimpan...":s.is_published?"Perbarui":"Publikasikan"]})]})]})]})]})}export{re as default};
