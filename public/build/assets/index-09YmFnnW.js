import{a as u,j as e,H as B,r as a}from"./app-B2uLdC5s.js";import{B as x}from"./badge-ChBf_Tak.js";import{B as i}from"./createLucideIcon-BXyHzq-F.js";import{C as p,b as E,c as G,d as H,a as h}from"./card-te4fvd2J.js";import{A as L,D as V,a as $,b as z,c as j,d as Q}from"./app-layout-jJdAK6Sy.js";import{I as R}from"./input-B4M7mg2k.js";import{S as N,a as C,b as w,c as S,d as t}from"./select-CJ5NSZ1r.js";import{P as k}from"./plus-BNCaJCad.js";import{S as y}from"./search-BywkPuDq.js";import{I as U}from"./image-D3sFOeB3.js";import{E as K}from"./ellipsis-vertical-CSETySnX.js";import{E as D}from"./eye-Cxf8GoBE.js";import{P as X}from"./pencil-IEa-P02T.js";import{T as q}from"./trash-2-SCICf4-m.js";import{C as J}from"./circle-alert-C8A9mrku.js";import{C as O}from"./circle-x-DQiolxRz.js";import{C as W}from"./circle-check-7wDjB1v4.js";import{C as Y}from"./clock-qv_jo4LF.js";/* empty css            */import"./index-BiIr_T_F.js";import"./index-BFbh2RP3.js";import"./index-DbG0MvhG.js";import"./index-CHAcdM8o.js";import"./index-BrtU9OXb.js";import"./index-B0iNKQe2.js";import"./index-MuU6l8lt.js";import"./icon-CEZUC61e.js";import"./index-4Ns3tNZl.js";import"./app-logo-icon-ghPTRdhp.js";import"./calendar-ZC1vRAIi.js";import"./loader-circle-zUgBhIy_.js";import"./index-COMubWJf.js";import"./chevron-down-CqcnpaRK.js";function Pe({galleries:n,filters:c}){const A=[{title:"Dashboard",href:"/dashboard"},{title:"Galeri Saya",href:"/gallery"}],[f,v]=u.useState(c.search||""),[d,g]=u.useState(c.type||"all"),[o,b]=u.useState(c.status||"all"),T=s=>{s.preventDefault(),m()},m=()=>{a.get("/gallery",{search:f||void 0,type:d!=="all"?d:void 0,status:o!=="all"?o:void 0},{preserveState:!0,preserveScroll:!0})},_=(s,l)=>{confirm(`Apakah Anda yakin ingin menghapus galeri "${l}"? Aksi ini tidak dapat dibatalkan.`)&&a.delete(`/gallery/${s}`,{preserveScroll:!0})},I=s=>{const r={pending:{label:"Menunggu",variant:"secondary",icon:Y},approved:{label:"Disetujui",variant:"default",icon:W},rejected:{label:"Ditolak",variant:"destructive",icon:O}}[s],M=r.icon;return e.jsxs(x,{variant:r.variant,className:"gap-1",children:[e.jsx(M,{className:"h-3 w-3"}),r.label]})},P=s=>{const r={personal:{label:"Pribadi",className:"bg-blue-100 text-blue-800 hover:bg-blue-100"},public:{label:"Publik",className:"bg-purple-100 text-purple-800 hover:bg-purple-100"}}[s];return e.jsx(x,{className:r.className,children:r.label})},F=s=>new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"});return e.jsxs(L,{breadcrumbs:A,children:[e.jsx(B,{title:"Galeri Saya"}),e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6 px-4 py-6 md:px-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Galeri Saya"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kelola foto dan dokumentasi Anda"})]}),e.jsxs(i,{onClick:()=>a.visit("/gallery/create"),children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),"Unggah Foto Baru"]})]}),e.jsxs(p,{children:[e.jsxs(E,{children:[e.jsx(G,{children:"Filter Galeri"}),e.jsx(H,{children:"Cari dan filter galeri Anda"})]}),e.jsx(h,{children:e.jsxs("form",{onSubmit:T,className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(R,{placeholder:"Cari judul atau deskripsi...",value:f,onChange:s=>v(s.target.value),className:"pl-9"})]}),e.jsxs(N,{value:d,onValueChange:s=>{g(s),setTimeout(m,0)},children:[e.jsx(C,{children:e.jsx(w,{placeholder:"Tipe"})}),e.jsxs(S,{children:[e.jsx(t,{value:"all",children:"Semua Tipe"}),e.jsx(t,{value:"personal",children:"Pribadi"}),e.jsx(t,{value:"public",children:"Publik"})]})]}),e.jsxs(N,{value:o,onValueChange:s=>{b(s),setTimeout(m,0)},children:[e.jsx(C,{children:e.jsx(w,{placeholder:"Status"})}),e.jsxs(S,{children:[e.jsx(t,{value:"all",children:"Semua Status"}),e.jsx(t,{value:"pending",children:"Menunggu"}),e.jsx(t,{value:"approved",children:"Disetujui"}),e.jsx(t,{value:"rejected",children:"Ditolak"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{type:"submit",className:"flex-1",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Cari"]}),e.jsx(i,{type:"button",variant:"outline",onClick:()=>{v(""),g("all"),b("all"),a.get("/gallery",{},{preserveState:!0})},children:"Reset"})]})]})})]}),n.data.length===0?e.jsx(p,{children:e.jsxs(h,{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(U,{className:"mb-4 h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Belum Ada Galeri"}),e.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Mulai unggah foto untuk membangun galeri Anda"}),e.jsxs(i,{onClick:()=>a.visit("/gallery/create"),children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),"Unggah Foto Pertama"]})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:n.data.map(s=>e.jsxs(p,{className:"overflow-hidden",children:[e.jsxs("div",{className:"relative aspect-video w-full overflow-hidden bg-muted",children:[e.jsx("img",{src:s.image_url,alt:s.title,className:"h-full w-full object-cover transition-transform hover:scale-105"}),s.deleted_at&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60",children:e.jsx(x,{variant:"destructive",children:"Dihapus"})})]}),e.jsxs(h,{className:"p-4",children:[e.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-1 line-clamp-1 font-semibold",children:s.title}),s.description&&e.jsx("p",{className:"line-clamp-2 text-sm text-muted-foreground",children:s.description})]}),!s.deleted_at&&e.jsxs(V,{children:[e.jsx($,{asChild:!0,children:e.jsx(i,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(K,{className:"h-4 w-4"})})}),e.jsxs(z,{align:"end",children:[e.jsxs(j,{onClick:()=>a.visit(`/gallery/${s.id}`),children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]}),e.jsxs(j,{onClick:()=>a.visit(`/gallery/${s.id}/edit`),children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsx(Q,{}),e.jsxs(j,{onClick:()=>_(s.id,s.title),className:"text-destructive focus:text-destructive",children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[P(s.type),s.type==="public"&&I(s.status)]}),s.status==="rejected"&&s.rejection_reason&&e.jsx("div",{className:"rounded-md bg-destructive/10 p-2",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(J,{className:"mt-0.5 h-4 w-4 shrink-0 text-destructive"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-destructive",children:"Alasan Penolakan:"}),e.jsx("p",{className:"text-xs text-destructive/80",children:s.rejection_reason})]})]})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.views_count," ","views"]})]}),e.jsx("span",{children:F(s.created_at)})]}),s.batch&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Angkatan: ",s.batch]})]})]})]},s.id))}),n.last_page>1&&e.jsx("div",{className:"flex items-center justify-center gap-2",children:n.links.map((s,l)=>e.jsx(i,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>{s.url&&a.visit(s.url)},dangerouslySetInnerHTML:{__html:s.label}},l))})]})]})]})}export{Pe as default};
