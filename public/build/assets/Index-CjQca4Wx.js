import{j as e,H as y,r as a}from"./app-Bcukgqwo.js";import{B as r}from"./createLucideIcon-C8KZloFJ.js";import{C as c,a as d}from"./card-CZARKXR4.js";import{A as b,B as o,S as w,M as k}from"./app-layout-BBKhk5bG.js";import{C as x}from"./index-t3FiFGvD.js";import{T as p}from"./trash-2-Bh96mTqw.js";import{H as v}from"./icon-BXi89XAH.js";/* empty css            */import"./index-CypPyuSO.js";import"./index-CoNzTBzt.js";import"./index-hT0U3kpW.js";import"./index-4Ns3tNZl.js";import"./app-logo-icon-DCVM2O1y.js";import"./calendar-B_5F7VDB.js";import"./loader-circle-uRkMHJYj.js";const C=[{title:"Dashboard",href:"/dashboard"},{title:"Notifikasi",href:"/notifications"}],S={MessageSquare:k,Heart:v,Sparkles:w};function F({notifications:t}){const u=s=>S[s]||o,h=s=>new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(s)),n=async s=>{a.post(`/notifications/${s}/read`,{},{preserveScroll:!0,onSuccess:()=>{a.reload({only:["notifications"]})}})},f=async()=>{a.post("/notifications/read-all",{},{preserveScroll:!0,onSuccess:()=>{a.reload({only:["notifications"]})}})},j=async s=>{confirm("Hapus notifikasi ini?")&&a.delete(`/notifications/${s}`,{preserveScroll:!0,onSuccess:()=>{a.reload({only:["notifications"]})}})},N=async()=>{confirm("Hapus semua notifikasi?")&&a.delete("/notifications",{preserveScroll:!0,onSuccess:()=>{a.reload({only:["notifications"]})}})},g=s=>{s.read_at||n(s.id),a.visit(s.data.action_url)},l=t.data.filter(s=>!s.read_at).length;return e.jsxs(b,{breadcrumbs:C,children:[e.jsx(y,{title:"Notifikasi"}),e.jsxs("div",{className:"container mx-auto space-y-6 py-6 sm:py-8",children:[e.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight sm:text-3xl",children:"Notifikasi"}),e.jsx("p",{className:"text-sm text-muted-foreground sm:text-base",children:l>0?`${l} notifikasi belum dibaca`:"Semua notifikasi sudah dibaca"})]}),e.jsxs("div",{className:"flex w-full flex-wrap gap-2 sm:w-auto",children:[l>0&&e.jsxs(r,{variant:"outline",size:"sm",onClick:f,className:"flex-1 sm:flex-initial",children:[e.jsx(x,{className:"mr-2 h-4 w-4"}),"Tandai Semua Dibaca"]}),t.data.length>0&&e.jsxs(r,{variant:"outline",size:"sm",onClick:N,className:"flex-1 text-red-600 hover:text-red-700 sm:flex-initial",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Hapus Semua"]})]})]}),t.data.length===0?e.jsx(c,{children:e.jsxs(d,{className:"flex flex-col items-center justify-center py-16 text-center sm:py-20",children:[e.jsx(o,{className:"mb-4 h-16 w-16 text-gray-400 sm:h-20 sm:w-20"}),e.jsx("h3",{className:"text-lg font-semibold sm:text-xl",children:"Tidak ada notifikasi"}),e.jsx("p",{className:"text-sm text-muted-foreground sm:text-base",children:"Notifikasi Anda akan muncul di sini"})]})}):e.jsx("div",{className:"space-y-3 sm:space-y-4",children:t.data.map(s=>{const i=u(s.data.icon);return e.jsx(c,{className:`cursor-pointer transition-all hover:shadow-md ${s.read_at?"":"border-l-4 border-l-blue-500 bg-blue-50/50"}`,onClick:()=>g(s),children:e.jsx(d,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:`flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full sm:h-12 sm:w-12 ${s.data.type==="forum_reply"?"bg-blue-100":s.data.type==="forum_like"?"bg-red-100":"bg-purple-100"}`,children:e.jsx(i,{className:`h-5 w-5 sm:h-6 sm:w-6 ${s.data.type==="forum_reply"?"text-blue-600":s.data.type==="forum_like"?"text-red-600":"text-purple-600"}`})}),e.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold sm:text-base",children:s.data.title}),!s.read_at&&e.jsx("span",{className:"mt-1 h-2 w-2 flex-shrink-0 rounded-full bg-blue-500"})]}),e.jsx("p",{className:"text-xs text-gray-700 sm:text-sm",children:s.data.message}),e.jsx("p",{className:"text-xs text-gray-400",children:h(s.created_at)})]}),e.jsxs("div",{className:"flex flex-shrink-0 flex-col gap-2",children:[!s.read_at&&e.jsx(r,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:m=>{m.stopPropagation(),n(s.id)},children:e.jsx(x,{className:"h-4 w-4 text-blue-600"})}),e.jsx(r,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700",onClick:m=>{m.stopPropagation(),j(s.id)},children:e.jsx(p,{className:"h-4 w-4"})})]})]})})},s.id)})}),t.last_page>1&&e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-1 sm:gap-2",children:t.links.map((s,i)=>e.jsx(r,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&a.get(s.url),className:"h-8 min-w-[2rem] px-2 text-xs sm:h-9 sm:min-w-[2.25rem] sm:px-3 sm:text-sm",dangerouslySetInnerHTML:{__html:s.label}},i))})]})]})}export{F as default};
