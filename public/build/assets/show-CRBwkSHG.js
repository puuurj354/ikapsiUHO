import{a as j,j as e,u as ae,U as D,c as Ee,H as $e,L as W,r as R}from"./app-BgGiJWZR.js";import{c as H,u as U,a as re,B as b}from"./createLucideIcon-Dc1Anohq.js";import{D as Be,a as Ge,b as Ke,c as ze,d as Oe,e as qe}from"./dialog-D4z6eg12.js";import{L as E}from"./label-CPQS2BiL.js";import{u as He,c as te,a as q,b as Ue,C as Ve}from"./index-DpF8GL2G.js";import{P as I}from"./index-DzSGn-36.js";import{h as ne,R as Je,I as We,A as Xe,e as $,f as B,g as G,D as Ye,a as Qe,b as Ze,c as C,d as K,M as _,C as es}from"./app-layout-BJPNvAwu.js";import{u as ss}from"./index-CaQ-zrX1.js";import{u as as}from"./index-MqRHq2h5.js";import{P as rs}from"./index-DFobMs-R.js";import{T as le}from"./textarea-BCzU6xUl.js";import{q as ts}from"./index-4Ns3tNZl.js";import{F as S}from"./flag-DTZpFRwj.js";import{T as ns}from"./triangle-alert-CFWO0VCN.js";import{L as ie}from"./loader-circle-CNn74Gm_.js";import{I as z,H as A}from"./icon-DruAsRm4.js";import{B as w}from"./badge-CPU78sSY.js";import{C as X,b as Y,a as Q}from"./card-B-mkesgN.js";import{E as Z}from"./eye-Atjeyg6p.js";import{P as ee}from"./pin-D0UF9k7r.js";import{E as ls}from"./ellipsis-vertical-DetSxq5V.js";import{T as se}from"./trash-2-52EJ_H1T.js";import{C as is}from"./circle-alert-BIgOh4Pl.js";import{S as os}from"./send-BQH6M0Xu.js";import{C as cs}from"./chevron-down-CZcuCDQv.js";/* empty css            */import"./app-logo-icon-j-eUwlox.js";import"./calendar-A_z2N1L7.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ms=H("Circle",ds);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],O=H("Lock",ps);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xs=H("Pen",us);var V="Radio",[hs,oe]=te(V),[fs,js]=hs(V),ce=j.forwardRef((s,l)=>{const{__scopeRadio:t,name:x,checked:n=!1,required:o,disabled:m,value:g="on",onCheck:u,form:h,...f}=s,[p,N]=j.useState(null),c=U(l,y=>N(y)),r=j.useRef(!1),v=p?h||!!p.closest("form"):!0;return e.jsxs(fs,{scope:t,checked:n,disabled:m,children:[e.jsx(I.button,{type:"button",role:"radio","aria-checked":n,"data-state":ue(n),"data-disabled":m?"":void 0,disabled:m,value:g,...f,ref:c,onClick:q(s.onClick,y=>{n||u?.(),v&&(r.current=y.isPropagationStopped(),r.current||y.stopPropagation())})}),v&&e.jsx(pe,{control:p,bubbles:!r.current,name:x,value:g,checked:n,required:o,disabled:m,form:h,style:{transform:"translateX(-100%)"}})]})});ce.displayName=V;var de="RadioIndicator",me=j.forwardRef((s,l)=>{const{__scopeRadio:t,forceMount:x,...n}=s,o=js(de,t);return e.jsx(rs,{present:x||o.checked,children:e.jsx(I.span,{"data-state":ue(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:l})})});me.displayName=de;var gs="RadioBubbleInput",pe=j.forwardRef(({__scopeRadio:s,control:l,checked:t,bubbles:x=!0,...n},o)=>{const m=j.useRef(null),g=U(m,o),u=as(t),h=Ue(l);return j.useEffect(()=>{const f=m.current;if(!f)return;const p=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==t&&c){const r=new Event("click",{bubbles:x});c.call(f,t),f.dispatchEvent(r)}},[u,t,x]),e.jsx(I.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:g,style:{...n.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pe.displayName=gs;function ue(s){return s?"checked":"unchecked"}var bs=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],L="RadioGroup",[Ns,aa]=te(L,[ne,oe]),xe=ne(),he=oe(),[vs,ks]=Ns(L),fe=j.forwardRef((s,l)=>{const{__scopeRadioGroup:t,name:x,defaultValue:n,value:o,required:m=!1,disabled:g=!1,orientation:u,dir:h,loop:f=!0,onValueChange:p,...N}=s,c=xe(t),r=ss(h),[v,y]=He({prop:o,defaultProp:n??null,onChange:p,caller:L});return e.jsx(vs,{scope:t,name:x,required:m,disabled:g,value:v,onValueChange:y,children:e.jsx(Je,{asChild:!0,...c,orientation:u,dir:r,loop:f,children:e.jsx(I.div,{role:"radiogroup","aria-required":m,"aria-orientation":u,"data-disabled":g?"":void 0,dir:r,...N,ref:l})})})});fe.displayName=L;var je="RadioGroupItem",ge=j.forwardRef((s,l)=>{const{__scopeRadioGroup:t,disabled:x,...n}=s,o=ks(je,t),m=o.disabled||x,g=xe(t),u=he(t),h=j.useRef(null),f=U(l,h),p=o.value===n.value,N=j.useRef(!1);return j.useEffect(()=>{const c=v=>{bs.includes(v.key)&&(N.current=!0)},r=()=>N.current=!1;return document.addEventListener("keydown",c),document.addEventListener("keyup",r),()=>{document.removeEventListener("keydown",c),document.removeEventListener("keyup",r)}},[]),e.jsx(We,{asChild:!0,...g,focusable:!m,active:p,children:e.jsx(ce,{disabled:m,required:o.required,checked:p,...u,...n,name:o.name,ref:f,onCheck:()=>o.onValueChange(n.value),onKeyDown:q(c=>{c.key==="Enter"&&c.preventDefault()}),onFocus:q(n.onFocus,()=>{N.current&&h.current?.click()})})})});ge.displayName=je;var ys="RadioGroupIndicator",be=j.forwardRef((s,l)=>{const{__scopeRadioGroup:t,...x}=s,n=he(t);return e.jsx(me,{...n,...x,ref:l})});be.displayName=ys;var Ne=fe,ve=ge,ws=be;const ke=j.forwardRef(({className:s,...l},t)=>e.jsx(Ne,{className:re("grid gap-2",s),...l,ref:t}));ke.displayName=Ne.displayName;const ye=j.forwardRef(({className:s,...l},t)=>e.jsx(ve,{ref:t,className:re("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...l,children:e.jsx(ws,{className:"flex items-center justify-center",children:e.jsx(ms,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ye.displayName=ve.displayName;const k=s=>({url:k.url(s),method:"post"});k.definition={methods:["post"],url:"/reports"};k.url=s=>k.definition.url+ts(s);k.post=s=>({url:k.url(s),method:"post"});const we=s=>({action:k.url(s),method:"post"});we.post=s=>({action:k.url(s),method:"post"});k.form=we;const Rs={store:Object.assign(k,k)},Cs=[{value:"spam",label:"Spam",description:"Konten berulang atau tidak relevan"},{value:"inappropriate",label:"Konten Tidak Pantas",description:"Konten yang tidak sesuai dengan komunitas"},{value:"offensive",label:"Menyinggung",description:"Konten yang menyinggung atau kasar"},{value:"harassment",label:"Pelecehan",description:"Pelecehan atau intimidasi terhadap pengguna lain"},{value:"other",label:"Lainnya",description:"Alasan lain yang perlu ditinjau"}];function _s({isOpen:s,onClose:l,reportableType:t,reportableId:x,reportedItemTitle:n}){const{data:o,setData:m,post:g,processing:u,errors:h,reset:f,recentlySuccessful:p}=ae({reportable_type:t,reportable_id:x,reason:"",description:""}),N=r=>{r.preventDefault(),g(Rs.store().url,{preserveScroll:!0,onSuccess:()=>{f(),l()}})},c=()=>{f(),l()};return D.useEffect(()=>{if(p){const r=setTimeout(()=>{c()},1500);return()=>clearTimeout(r)}},[p]),e.jsx(Be,{open:s,onOpenChange:c,children:e.jsxs(Ge,{className:"sm:max-w-[500px]",children:[e.jsxs(Ke,{children:[e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5 text-destructive"}),"Laporkan Konten"]}),e.jsxs(Oe,{children:["Bantu kami menjaga komunitas dengan melaporkan konten yang melanggar aturan.",n&&e.jsxs("span",{className:"mt-2 block text-sm font-medium text-foreground",children:['"',n,'"']})]})]}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(E,{className:"text-base font-semibold",children:["Alasan Laporan"," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(ke,{value:o.reason,onValueChange:r=>m("reason",r),className:"mt-3 space-y-3",children:Cs.map(r=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ye,{value:r.value,id:r.value,className:"mt-1"}),e.jsxs(E,{htmlFor:r.value,className:"flex-1 cursor-pointer space-y-1 font-normal",children:[e.jsx("div",{className:"font-medium",children:r.label}),e.jsx("div",{className:"text-sm text-muted-foreground",children:r.description})]})]},r.value))}),h.reason&&e.jsx("p",{className:"mt-2 text-sm text-destructive",children:h.reason})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"description",children:"Detail Tambahan (Opsional)"}),e.jsx(le,{id:"description",placeholder:"Jelaskan lebih detail tentang masalah ini...",value:o.description,onChange:r=>m("description",r.target.value),rows:4,className:"resize-none"}),h.description&&e.jsx("p",{className:"text-sm text-destructive",children:h.description})]})]}),e.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4 dark:border-amber-900/50 dark:bg-amber-950/30",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ns,{className:"h-5 w-5 flex-shrink-0 text-amber-600 dark:text-amber-500"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsx("p",{className:"font-medium text-amber-900 dark:text-amber-100",children:"Laporan akan ditinjau oleh admin"}),e.jsx("p",{className:"text-amber-700 dark:text-amber-200",children:"Laporan palsu atau penyalahgunaan fitur dapat mengakibatkan sanksi pada akun Anda."})]})]})}),e.jsxs(qe,{children:[e.jsx(b,{type:"button",variant:"outline",onClick:c,disabled:u,children:"Batal"}),e.jsx(b,{type:"submit",variant:"destructive",disabled:u||!o.reason,children:u?e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Kirim Laporan"]})})]})]}),p&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-background/80 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-3 rounded-lg border bg-card p-6 shadow-lg",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30",children:e.jsx(Ve,{className:"h-6 w-6 text-green-600 dark:text-green-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Laporan Terkirim"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Terima kasih atas laporannya"})]})]})})]})})}function ra({discussion:s,replies:l,canEdit:t,canDelete:x,isAdmin:n}){const{auth:o}=Ee().props,m=o.user.id,{data:g,setData:u,post:h,processing:f,errors:p,reset:N}=ae({content:"",parent_id:null}),[c,r]=D.useState({isOpen:!1,reportableType:"App\\Models\\ForumDiscussion",reportableId:0,title:void 0}),[v,y]=D.useState(null),[M,Re]=D.useState(new Set),Ce=D.useMemo(()=>l.filter(d=>!d.parent_id).map(d=>({parent:d,children:l.filter(i=>i.parent_id===d.id)})),[l]),_e=a=>{Re(d=>{const i=new Set(d);return i.has(a)?i.delete(a):i.add(a),i})},De=[{title:"Dashboard",href:"/dashboard"},{title:"Forum Diskusi",href:"/forum/${discussion.slug}"},{title:s.title,href:`/forum/${s.slug}`}],P=(a,d,i)=>{r({isOpen:!0,reportableType:a,reportableId:d,title:i})},Se=()=>{r({isOpen:!1,reportableType:"App\\Models\\ForumDiscussion",reportableId:0,title:void 0})},Ae=()=>{R.post(`/forum/${s.slug}/like`,{},{preserveScroll:!0})},J=a=>{R.post(`/forum/reply/${a}/like`,{},{preserveScroll:!0})},Ie=()=>{R.post(`/forum/${s.slug}/pin`,{},{preserveScroll:!0})},Le=()=>{R.post(`/forum/${s.slug}/lock`,{},{preserveScroll:!0})},Me=()=>{confirm("Apakah Anda yakin ingin menghapus diskusi ini? Tindakan ini tidak dapat dibatalkan.")&&R.delete(`/forum/${s.slug}`)},Pe=a=>{a.preventDefault(),h(`/forum/${s.slug}/reply`,{preserveScroll:!0,onSuccess:()=>{N(),y(null)}})},Te=(a,d)=>{y({id:a,userName:d}),u("parent_id",a),document.getElementById("reply-form")?.scrollIntoView({behavior:"smooth"})},Fe=()=>{y(null),u("parent_id",null)},T=a=>{const d=new Date(a);return new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(d)},F=a=>a.split(" ").map(d=>d[0]).join("").toUpperCase().slice(0,2);return e.jsxs(Xe,{breadcrumbs:De,children:[e.jsx($e,{title:`${s.title} - Forum`}),e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6 px-4 py-6 md:px-6",children:[e.jsx(W,{href:"/forum",children:e.jsxs(b,{variant:"ghost",size:"sm",children:[e.jsx(z,{iconNode:Z,className:"mr-2 h-4 w-4"}),"Kembali ke Forum"]})}),e.jsxs(X,{children:[e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(w,{variant:"secondary",style:{backgroundColor:`${s.category.color}20`,color:s.category.color},children:s.category.name}),s.is_pinned&&e.jsxs(w,{variant:"default",className:"bg-blue-600",children:[e.jsx(ee,{className:"mr-1 h-3 w-3"}),"Disematkan"]}),s.is_locked&&e.jsxs(w,{variant:"destructive",children:[e.jsx(O,{className:"mr-1 h-3 w-3"}),"Dikunci"]})]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 sm:text-3xl",children:s.title}),e.jsxs("div",{className:"flex flex-col items-start justify-between gap-3 sm:flex-row sm:items-center sm:gap-0",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsxs($,{className:"h-10 w-10 flex-shrink-0",children:[e.jsx(B,{src:s.user.profile_picture_url}),e.jsx(G,{children:F(s.user.name)})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("p",{className:"truncate font-medium text-gray-900",children:s.user.name}),s.user.role==="admin"&&e.jsx(w,{variant:"secondary",className:"flex-shrink-0 bg-purple-100 text-purple-700",children:"Admin"})]}),e.jsx("p",{className:"text-xs text-gray-500 sm:text-sm",children:T(s.created_at)})]})]}),e.jsxs(Ye,{children:[e.jsx(Qe,{asChild:!0,children:e.jsx(b,{variant:"ghost",size:"sm",className:"flex-shrink-0",children:e.jsx(ls,{className:"h-4 w-4"})})}),e.jsxs(Ze,{align:"end",children:[t&&e.jsx(C,{asChild:!0,children:e.jsxs(W,{href:`/forum/${s.slug}/edit`,children:[e.jsx(xs,{className:"mr-2 h-4 w-4"}),"Edit Diskusi"]})}),n&&e.jsxs(e.Fragment,{children:[t&&e.jsx(K,{}),e.jsxs(C,{onClick:Ie,children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),s.is_pinned?"Lepas Pin":"Pin"]}),e.jsxs(C,{onClick:Le,children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),s.is_locked?"Buka Kunci":"Kunci"]})]}),x&&e.jsxs(e.Fragment,{children:[e.jsx(K,{}),e.jsxs(C,{onClick:Me,className:"text-red-600",children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),"Hapus Diskusi"]})]}),m!==s.user.id&&e.jsxs(e.Fragment,{children:[e.jsx(K,{}),e.jsxs(C,{onClick:()=>P("App\\Models\\ForumDiscussion",s.id,s.title),className:"text-amber-600",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Laporkan Diskusi"]})]})]})]})]})]}),e.jsxs(Q,{className:"space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"prose prose-sm sm:prose max-w-none text-gray-700",children:s.content.split(`
`).map((a,d)=>e.jsx("p",{children:a},d))}),e.jsxs("div",{className:"flex flex-col items-start justify-between gap-3 border-t pt-4 sm:flex-row sm:items-center sm:gap-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-500 sm:gap-6 sm:text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsxs("span",{children:[s.views_count," views"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsxs("span",{children:[s.replies_count," balasan"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsxs("span",{children:[s.likes_count," likes"]})]})]}),e.jsxs(b,{variant:s.user_liked?"default":"outline",size:"sm",onClick:Ae,className:s.user_liked?"bg-red-500 hover:bg-red-600":"",children:[e.jsx(A,{className:`mr-2 h-4 w-4 ${s.user_liked?"fill-current":""}`}),s.user_liked?"Liked":"Like"]})]})]})]}),e.jsxs(X,{children:[e.jsx(Y,{children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[s.replies_count," Balasan"]})}),e.jsxs(Q,{className:"space-y-6",children:[s.is_locked?e.jsxs("div",{className:"flex items-center justify-center gap-2 rounded-lg border border-yellow-200 bg-yellow-50 p-4 text-yellow-800",children:[e.jsx(O,{className:"h-5 w-5"}),e.jsx("p",{className:"font-medium",children:"Diskusi ini telah dikunci. Tidak dapat menambahkan balasan baru."})]}):e.jsxs("form",{id:"reply-form",onSubmit:Pe,className:"space-y-4",children:[v&&e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-blue-200 bg-blue-50 p-3 dark:border-blue-900/50 dark:bg-blue-950/30",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(_,{className:"h-3 w-3 flex-shrink-0 text-blue-600 sm:h-4 sm:w-4 dark:text-blue-400"}),e.jsxs("span",{className:"truncate text-blue-900 dark:text-blue-100",children:["Membalas"," ",e.jsx("span",{className:"font-semibold",children:v.userName})]})]}),e.jsx(b,{type:"button",variant:"ghost",size:"sm",onClick:Fe,className:"h-auto flex-shrink-0 p-1 text-blue-600 hover:text-blue-700 dark:text-blue-400",children:e.jsx(z,{iconNode:se,className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),e.jsx(le,{placeholder:v?`Balas ${v.userName}...`:"Tulis balasan Anda...",value:g.content,onChange:a=>u("content",a.target.value),className:p.content?"min-h-[100px] border-red-500 sm:min-h-[120px]":"min-h-[100px] sm:min-h-[120px]"}),p.content&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-red-500 sm:text-sm",children:[e.jsx(is,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{children:p.content})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(b,{type:"submit",disabled:f,className:"w-full sm:w-auto",children:f?e.jsxs(e.Fragment,{children:[e.jsx(z,{iconNode:ie,className:"mr-2 h-4 w-4 animate-spin"}),e.jsx("span",{className:"hidden sm:inline",children:"Mengirim..."}),e.jsx("span",{className:"sm:hidden",children:"Kirim..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"mr-2 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Kirim Balasan"}),e.jsx("span",{className:"sm:hidden",children:"Kirim"})]})})})]}),l.length>0?e.jsx("div",{className:"space-y-4",children:Ce.map(({parent:a,children:d})=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"rounded-lg border bg-gray-50 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs($,{className:"h-10 w-10 flex-shrink-0",children:[e.jsx(B,{src:a.user.profile_picture_url}),e.jsx(G,{children:F(a.user.name)})]}),e.jsxs("div",{className:"min-w-0 flex-1 space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("p",{className:"font-medium text-gray-900",children:a.user.name}),a.user.role==="admin"&&e.jsx(w,{variant:"secondary",className:"bg-purple-100 text-purple-700",children:"Admin"}),e.jsx("span",{className:"text-sm text-gray-500",children:"•"}),e.jsx("span",{className:"text-sm text-gray-500",children:T(a.created_at)})]}),e.jsx("p",{className:"break-words text-gray-700",children:a.content}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[e.jsxs(b,{variant:"ghost",size:"sm",onClick:()=>J(a.id),className:a.user_liked?"text-red-500":"",children:[e.jsx(A,{className:`mr-1 h-4 w-4 ${a.user_liked?"fill-current":""}`}),a.likes_count]}),!s.is_locked&&e.jsxs(b,{variant:"ghost",size:"sm",onClick:()=>Te(a.id,a.user.name),className:"text-blue-600 hover:text-blue-700",children:[e.jsx(_,{className:"mr-1 h-4 w-4"}),"Balas"]}),m!==a.user.id&&e.jsxs(b,{variant:"ghost",size:"sm",onClick:()=>P("App\\Models\\ForumReply",a.id,`Balasan dari ${a.user.name}`),className:"text-amber-600 hover:text-amber-700",children:[e.jsx(S,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Laporkan"})]})]})]})]})}),d.length>0&&e.jsxs("div",{className:"ml-6 space-y-3 sm:ml-12",children:[e.jsxs(b,{variant:"ghost",size:"sm",onClick:()=>_e(a.id),className:"text-sm text-blue-600 hover:text-blue-700",children:[M.has(a.id)?e.jsx(es,{className:"mr-1 h-4 w-4"}):e.jsx(cs,{className:"mr-1 h-4 w-4"}),M.has(a.id)?`Tampilkan ${d.length} balasan`:`Sembunyikan ${d.length} balasan`]}),!M.has(a.id)&&d.map(i=>e.jsx("div",{className:"rounded-lg border border-l-4 border-l-blue-400 bg-blue-50/50 p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsxs($,{className:"h-8 w-8 flex-shrink-0",children:[e.jsx(B,{src:i.user.profile_picture_url}),e.jsx(G,{children:F(i.user.name)})]}),e.jsxs("div",{className:"min-w-0 flex-1 space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[e.jsx("p",{className:"font-medium text-gray-900",children:i.user.name}),i.user.role==="admin"&&e.jsx(w,{variant:"secondary",className:"bg-purple-100 text-xs text-purple-700",children:"Admin"}),e.jsx("span",{className:"text-xs text-gray-500",children:"•"}),e.jsx("span",{className:"text-xs text-gray-500",children:T(i.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600",children:[e.jsx(_,{className:"h-3 w-3"}),e.jsxs("span",{children:["Membalas"," ",a.user.name]})]}),e.jsx("p",{className:"text-sm break-words text-gray-700",children:i.content}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(b,{variant:"ghost",size:"sm",onClick:()=>J(i.id),className:`text-xs ${i.user_liked?"text-red-500":""}`,children:[e.jsx(A,{className:`mr-1 h-3 w-3 ${i.user_liked?"fill-current":""}`}),i.likes_count]}),m!==i.user.id&&e.jsxs(b,{variant:"ghost",size:"sm",onClick:()=>P("App\\Models\\ForumReply",i.id,`Balasan dari ${i.user.name}`),className:"text-xs text-amber-600 hover:text-amber-700",children:[e.jsx(S,{className:"mr-1 h-3 w-3"}),e.jsx("span",{className:"hidden sm:inline",children:"Laporkan"})]})]})]})]})},i.id))]})]},a.id))}):e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(_,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Belum ada balasan. Jadilah yang pertama!"})]})]})]}),e.jsx(_s,{isOpen:c.isOpen,onClose:Se,reportableType:c.reportableType,reportableId:c.reportableId,reportedItemTitle:c.title})]})]})}export{ra as default};
