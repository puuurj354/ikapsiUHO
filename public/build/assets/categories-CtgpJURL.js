import{a as x,u,j as e,H as I,r as j}from"./app-B2uLdC5s.js";import{B as t}from"./createLucideIcon-BXyHzq-F.js";import{C as O,a as P}from"./card-te4fvd2J.js";import{D as g,a as f,b as v,c as N,d as k,e as b}from"./dialog-BHSSsarx.js";import{A as H,T as _,D as L,a as U,b as W,c as C,d as $}from"./app-layout-jJdAK6Sy.js";import{I as i}from"./input-B4M7mg2k.js";import{L as l}from"./label-Cau27ksP.js";import{T as z,a as R,b as D,c as n,d as V,e as o}from"./table-Dw59y7tc.js";import{T as w}from"./textarea-BJiCB0Tb.js";import{P as y}from"./plus-BNCaJCad.js";import{E as q}from"./ellipsis-vertical-CSETySnX.js";import{P as G}from"./pencil-IEa-P02T.js";import{T as J}from"./trash-2-SCICf4-m.js";/* empty css            */import"./index-BiIr_T_F.js";import"./index-BFbh2RP3.js";import"./index-DbG0MvhG.js";import"./index-CHAcdM8o.js";import"./index-BrtU9OXb.js";import"./index-B0iNKQe2.js";import"./index-MuU6l8lt.js";import"./icon-CEZUC61e.js";import"./index-4Ns3tNZl.js";import"./app-logo-icon-ghPTRdhp.js";import"./calendar-ZC1vRAIi.js";import"./image-D3sFOeB3.js";import"./loader-circle-zUgBhIy_.js";function Ce({categories:m}){const T=[{title:"Dashboard",href:"/dashboard"},{title:"Admin",href:"#"},{title:"Kategori Artikel",href:"/admin/articles/categories"}],[A,c]=x.useState(!1),[K,d]=x.useState(!1),[h,p]=x.useState(null),r=u({name:"",description:"",color:"#3b82f6",order:m.length+1}),a=u({name:"",description:"",color:"#3b82f6",order:0}),F=s=>{s.preventDefault(),r.post("/admin/articles/categories",{onSuccess:()=>{c(!1),r.reset()}})},S=s=>{s.preventDefault(),h&&a.put(`/admin/articles/categories/${h.id}`,{onSuccess:()=>{d(!1),p(null),a.reset()}})},E=s=>{p(s),a.setData({name:s.name,description:s.description||"",color:s.color,order:s.order}),d(!0)},B=s=>{confirm("Apakah Anda yakin ingin menghapus kategori ini? Artikel dengan kategori ini akan kehilangan kategorinya.")&&j.delete(`/admin/articles/categories/${s}`,{preserveScroll:!0})},M=s=>{j.post(`/admin/articles/categories/${s}/toggle-active`,{},{preserveScroll:!0})};return e.jsxs(H,{breadcrumbs:T,children:[e.jsx(I,{title:"Manajemen Kategori Artikel"}),e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6 px-4 py-6 md:px-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Manajemen Kategori Artikel"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kelola kategori untuk artikel alumni"})]}),e.jsxs(t,{onClick:()=>c(!0),children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Tambah Kategori"]})]}),e.jsx(O,{children:e.jsx(P,{className:"p-0",children:m.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(_,{className:"mb-4 h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Belum Ada Kategori"}),e.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Buat kategori pertama untuk mengorganisir artikel"}),e.jsxs(t,{onClick:()=>c(!0),children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Tambah Kategori"]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(z,{children:[e.jsx(R,{children:e.jsxs(D,{children:[e.jsx(n,{children:"Urutan"}),e.jsx(n,{children:"Nama"}),e.jsx(n,{children:"Deskripsi"}),e.jsx(n,{children:"Warna"}),e.jsx(n,{className:"text-center",children:"Artikel"}),e.jsx(n,{className:"text-center",children:"Status"}),e.jsx(n,{className:"text-right",children:"Aksi"})]})}),e.jsx(V,{children:m.map(s=>e.jsxs(D,{children:[e.jsx(o,{children:s.order}),e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:s.color}}),e.jsx("span",{className:"font-medium",children:s.name})]})}),e.jsx(o,{children:e.jsx("p",{className:"line-clamp-2 text-sm text-muted-foreground",children:s.description||"-"})}),e.jsx(o,{children:e.jsx("code",{className:"rounded bg-muted px-2 py-1 text-xs",children:s.color})}),e.jsx(o,{className:"text-center",children:s.articles_count}),e.jsx(o,{className:"text-center",children:e.jsx(t,{variant:s.is_active?"default":"secondary",size:"sm",onClick:()=>M(s.id),children:s.is_active?"Aktif":"Nonaktif"})}),e.jsx(o,{className:"text-right",children:e.jsxs(L,{children:[e.jsx(U,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsxs(W,{align:"end",children:[e.jsxs(C,{onClick:()=>E(s),children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsx($,{}),e.jsxs(C,{onClick:()=>B(s.id),className:"text-destructive focus:text-destructive",children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})})]},s.id))})]})})})})]}),e.jsx(g,{open:A,onOpenChange:c,children:e.jsxs(f,{children:[e.jsxs(v,{children:[e.jsx(N,{children:"Tambah Kategori Baru"}),e.jsx(k,{children:"Buat kategori baru untuk artikel alumni"})]}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"create-name",children:["Nama Kategori",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(i,{id:"create-name",value:r.data.name,onChange:s=>r.setData("name",s.target.value),placeholder:"Contoh: Psikologi Klinis"}),r.errors.name&&e.jsx("p",{className:"text-sm text-destructive",children:r.errors.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"create-description",children:"Deskripsi (Opsional)"}),e.jsx(w,{id:"create-description",value:r.data.description,onChange:s=>r.setData("description",s.target.value),placeholder:"Deskripsi singkat kategori",rows:3})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(l,{htmlFor:"create-color",children:"Warna"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{id:"create-color",type:"color",value:r.data.color,onChange:s=>r.setData("color",s.target.value),className:"h-10 w-20"}),e.jsx(i,{type:"text",value:r.data.color,onChange:s=>r.setData("color",s.target.value),placeholder:"#3b82f6"})]})]}),e.jsxs("div",{className:"w-24 space-y-2",children:[e.jsx(l,{htmlFor:"create-order",children:"Urutan"}),e.jsx(i,{id:"create-order",type:"number",min:"1",value:r.data.order,onChange:s=>r.setData("order",parseInt(s.target.value))})]})]}),e.jsxs(b,{children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Batal"}),e.jsx(t,{type:"submit",disabled:r.processing,children:r.processing?"Menyimpan...":"Simpan"})]})]})]})}),e.jsx(g,{open:K,onOpenChange:d,children:e.jsxs(f,{children:[e.jsxs(v,{children:[e.jsx(N,{children:"Edit Kategori"}),e.jsx(k,{children:"Perbarui informasi kategori artikel"})]}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"edit-name",children:["Nama Kategori",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(i,{id:"edit-name",value:a.data.name,onChange:s=>a.setData("name",s.target.value),placeholder:"Contoh: Psikologi Klinis"}),a.errors.name&&e.jsx("p",{className:"text-sm text-destructive",children:a.errors.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"edit-description",children:"Deskripsi (Opsional)"}),e.jsx(w,{id:"edit-description",value:a.data.description,onChange:s=>a.setData("description",s.target.value),placeholder:"Deskripsi singkat kategori",rows:3})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(l,{htmlFor:"edit-color",children:"Warna"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{id:"edit-color",type:"color",value:a.data.color,onChange:s=>a.setData("color",s.target.value),className:"h-10 w-20"}),e.jsx(i,{type:"text",value:a.data.color,onChange:s=>a.setData("color",s.target.value),placeholder:"#3b82f6"})]})]}),e.jsxs("div",{className:"w-24 space-y-2",children:[e.jsx(l,{htmlFor:"edit-order",children:"Urutan"}),e.jsx(i,{id:"edit-order",type:"number",min:"1",value:a.data.order,onChange:s=>a.setData("order",parseInt(s.target.value))})]})]}),e.jsxs(b,{children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Batal"}),e.jsx(t,{type:"submit",disabled:a.processing,children:a.processing?"Menyimpan...":"Perbarui"})]})]})]})})]})}export{Ce as default};
