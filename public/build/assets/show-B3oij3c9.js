import{a as u,u as M,j as e,H as O,r}from"./app-BuK6L1IX.js";import{B as j}from"./badge-BysjlmGz.js";import{B as n}from"./createLucideIcon-C0J_jlnb.js";import{C as l,a as c,b as o,c as m,d as P}from"./card-BF-Pn31m.js";import{D as f,a as g,b as N,c as v,d as b,e as y}from"./dialog-gwn2CuJO.js";import{L as F}from"./label-LgJCqWNF.js";import{T as H}from"./textarea-j8VOJUz_.js";import{A as L}from"./app-layout-CHXXplpD.js";import{A as E}from"./arrow-left-tqzYt7lZ.js";import{C as k}from"./circle-x-Quvii8nm.js";import{C as x}from"./circle-check-D-aLGh35.js";import{E as w}from"./eye-DMVwzdKU.js";import{C as R}from"./calendar-BSWEor3k.js";import{U}from"./user-B3XaZlGi.js";import{M as K}from"./mail-CFb9dJr1.js";import{T as z}from"./trash-2-f7MI_fWU.js";import{C as J}from"./clock-drXSsSib.js";/* empty css            */import"./index-C4OLRmRE.js";import"./index-D0EEU-p-.js";import"./index-B4K8fLkS.js";import"./index-CC6k_cLp.js";import"./index-CQZ_tyeG.js";import"./index-DWHlQ5VI.js";import"./index-CeB0vAsL.js";import"./icon-36yQIlH0.js";import"./index-4Ns3tNZl.js";import"./app-logo-icon-D6cuaaKn.js";import"./image-ae-2JA6f.js";import"./loader-circle-BZdVFMY_.js";function we({gallery:s}){const C=[{title:"Dashboard",href:"/dashboard"},{title:"Admin",href:"#"},{title:"Manajemen Galeri",href:"/admin/gallery"},{title:"Detail Galeri",href:`/admin/gallery/${s.id}`}],[D,d]=u.useState(!1),[A,p]=u.useState(!1),a=M({reason:""}),_=()=>{confirm("Apakah Anda yakin ingin menyetujui galeri ini?")&&r.post(`/admin/gallery/${s.id}/approve`,{},{preserveScroll:!0,onSuccess:()=>{r.visit(`/admin/gallery/${s.id}`)}})},S=()=>{a.post(`/admin/gallery/${s.id}/reject`,{preserveScroll:!0,onSuccess:()=>{d(!1),a.reset(),r.visit(`/admin/gallery/${s.id}`)}})},T=()=>{confirm(`Apakah Anda yakin ingin menghapus galeri "${s.title}"? Aksi ini tidak dapat dibatalkan.`)&&r.delete(`/admin/gallery/${s.id}`,{onSuccess:()=>{r.visit("/admin/gallery")}})},G=t=>{const i={pending:{label:"Menunggu Persetujuan",variant:"secondary",icon:J,className:"bg-yellow-100 text-yellow-800"},approved:{label:"Disetujui",variant:"default",icon:x,className:"bg-green-100 text-green-800"},rejected:{label:"Ditolak",variant:"destructive",icon:k,className:"bg-red-100 text-red-800"}}[t],$=i.icon;return e.jsxs(j,{className:i.className,children:[e.jsx($,{className:"mr-1 h-4 w-4"}),i.label]})},B=t=>{const i={personal:{label:"Galeri Pribadi",className:"bg-blue-100 text-blue-800"},public:{label:"Galeri Publik",className:"bg-purple-100 text-purple-800"}}[t];return e.jsx(j,{className:i.className,children:i.label})},h=t=>new Date(t).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(L,{breadcrumbs:C,children:[e.jsx(O,{title:`Detail Galeri - ${s.title}`}),e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6 px-4 py-6 md:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(n,{variant:"ghost",size:"sm",onClick:()=>r.visit("/admin/gallery"),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Kembali"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Detail Galeri"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Informasi lengkap tentang galeri"})]})]}),s.type==="public"&&s.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>d(!0),children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),"Tolak"]}),e.jsxs(n,{className:"bg-green-600 hover:bg-green-700",onClick:_,children:[e.jsx(x,{className:"mr-2 h-4 w-4"}),"Setujui"]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx(l,{children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"group relative aspect-video w-full cursor-pointer overflow-hidden rounded-lg bg-muted",onClick:()=>p(!0),children:[e.jsx("img",{src:s.image_url,alt:s.title,className:"h-full w-full object-contain transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/0 opacity-0 transition-all duration-300 group-hover:bg-black/40 group-hover:opacity-100",children:e.jsx("div",{className:"rounded-full bg-white/90 p-4",children:e.jsx(w,{className:"h-6 w-6 text-gray-900"})})})]}),e.jsx("p",{className:"mt-3 text-center text-sm text-muted-foreground",children:"Klik gambar untuk melihat ukuran penuh"})]})}),e.jsxs(l,{className:"mt-6",children:[e.jsx(o,{children:e.jsx(m,{children:"Informasi Galeri"})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:s.title}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[B(s.type),G(s.status)]})]}),s.description&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Deskripsi"}),e.jsx("p",{className:"mt-1 text-sm whitespace-pre-wrap",children:s.description})]}),s.batch&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Angkatan"}),e.jsx("p",{className:"mt-1 text-sm font-medium",children:s.batch})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Jumlah Dilihat"}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.views_count," kali"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tanggal Unggah"}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:h(s.created_at)})]})]})]}),s.approved_at&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tanggal Disetujui"}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(x,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:h(s.approved_at)})]})]}),s.status==="rejected"&&s.rejection_reason&&e.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:[e.jsx("p",{className:"mb-2 text-sm font-medium text-red-900",children:"Alasan Penolakan:"}),e.jsx("p",{className:"text-sm text-red-800",children:s.rejection_reason})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{children:[e.jsx(o,{children:e.jsx(m,{children:"Pembuat"})}),e.jsx(c,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:s.user.profile_picture?e.jsx("img",{src:s.user.profile_picture,alt:s.user.name,className:"h-12 w-12 rounded-full object-cover"}):e.jsx(U,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold",children:s.user.name}),s.user.angkatan&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Angkatan ",s.user.angkatan]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{className:"truncate",children:s.user.email})]})]})]})})]}),s.approved_by&&e.jsxs(l,{children:[e.jsx(o,{children:e.jsx(m,{children:"Disetujui Oleh"})}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:s.approved_by.name})]})})]}),e.jsxs(l,{className:"border-red-200",children:[e.jsxs(o,{children:[e.jsx(m,{className:"text-red-600",children:"Danger Zone"}),e.jsx(P,{children:"Aksi berbahaya yang tidak dapat dibatalkan"})]}),e.jsx(c,{children:e.jsxs(n,{variant:"destructive",className:"w-full",onClick:T,children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Hapus Galeri"]})})]})]})]})]}),e.jsx(f,{open:D,onOpenChange:d,children:e.jsxs(g,{children:[e.jsxs(N,{children:[e.jsx(v,{children:"Tolak Galeri"}),e.jsxs(b,{children:['Berikan alasan penolakan untuk galeri "',s.title,'"']})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(F,{htmlFor:"reason",children:["Alasan Penolakan"," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(H,{id:"reason",placeholder:"Contoh: Foto tidak relevan dengan tema galeri alumni...",value:a.data.reason,onChange:t=>a.setData("reason",t.target.value),rows:4,className:a.errors.reason?"border-destructive":""}),a.errors.reason&&e.jsx("p",{className:"text-sm text-destructive",children:a.errors.reason})]})}),e.jsxs(y,{children:[e.jsx(n,{variant:"outline",onClick:()=>{d(!1),a.reset()},disabled:a.processing,children:"Batal"}),e.jsx(n,{variant:"destructive",onClick:S,disabled:a.processing||!a.data.reason,children:a.processing?"Memproses...":"Tolak Galeri"})]})]})}),e.jsx(f,{open:A,onOpenChange:p,children:e.jsxs(g,{className:"max-w-5xl",children:[e.jsxs(N,{children:[e.jsx(v,{children:s.title}),s.description&&e.jsx(b,{children:s.description})]}),e.jsx("div",{className:"relative aspect-auto max-h-[80vh] w-full overflow-hidden rounded-lg bg-muted",children:e.jsx("img",{src:s.image_url,alt:s.title,className:"h-full w-full object-contain"})})]})})]})}export{we as default};
