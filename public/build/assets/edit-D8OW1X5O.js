import{u as g,j as e,H as N,L as c,r as y}from"./app-BYPX7exY.js";import{I as i}from"./icon-luoMfhnd.js";import{B as m}from"./createLucideIcon-Dq00TWjs.js";import{C as x,b,c as k,a as h}from"./card-DcksEqIi.js";import{I as v}from"./input-0ciEC-p6.js";import{L as o}from"./label-lGgSpI-t.js";import{S as w,a as S,b as _,c as C,d as A}from"./select-CnkQK43M.js";import{T as D}from"./textarea-BhDF3aqJ.js";import{A as L}from"./app-layout-CPcBQcKG.js";import{A as F}from"./arrow-left-DXFC2uSM.js";import{C as d}from"./circle-alert-Bzs81AUS.js";import{L as I}from"./loader-circle-BYEP1drJ.js";import{S as P}from"./save-B-j-Z5vP.js";import{T}from"./triangle-alert-FBpDy3du.js";/* empty css            */import"./index-CqwLCbKw.js";import"./index-D44JfVef.js";import"./index-C5AO6lRJ.js";import"./index-BjqX8T_1.js";import"./index-K5sFZYLW.js";import"./index-B2M7mmwk.js";import"./chevron-down-h4Z-5Kg3.js";import"./index-adLzp77U.js";import"./index-DuEmgmZQ.js";import"./index-4Ns3tNZl.js";import"./app-logo-icon-Cin4KTOo.js";import"./calendar-BnqgxJeL.js";import"./image-CPV9mxE7.js";function oe({discussion:a,categories:p}){const{data:r,setData:l,processing:n,errors:t}=g({title:a.title,content:a.content,forum_category_id:a.forum_category_id}),u=[{title:"Dashboard",href:"/dashboard"},{title:"Forum Diskusi",href:"/forum"},{title:a.title,href:`/forum/${a.slug}`},{title:"Edit",href:`/forum/${a.slug}/edit`}],j=s=>{s.preventDefault(),y.patch(`/forum/${a.slug}`,{...r},{onSuccess:()=>{},preserveScroll:!0,preserveState:!0,onError:f=>{console.error("Update failed:",f)}})};return e.jsxs(L,{breadcrumbs:u,children:[e.jsx(N,{title:`Edit: ${a.title} - Forum`}),e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6 px-4 py-6 md:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Diskusi"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Perbarui informasi diskusi Anda"})]}),e.jsx(c,{href:`/forum/${a.slug}`,children:e.jsxs(m,{variant:"outline",size:"sm",children:[e.jsx(i,{iconNode:F,className:"mr-2 h-4 w-4"}),"Kembali"]})})]}),e.jsxs(x,{children:[e.jsx(b,{children:e.jsx(k,{children:"Informasi Diskusi"})}),e.jsx(h,{children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"category",children:["Kategori"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(w,{value:r.forum_category_id.toString(),onValueChange:s=>l("forum_category_id",parseInt(s)),children:[e.jsx(S,{id:"category",className:t.forum_category_id?"border-red-500":"",children:e.jsx(_,{placeholder:"Pilih kategori diskusi"})}),e.jsx(C,{children:p.map(s=>e.jsx(A,{value:s.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:s.color}}),e.jsx("span",{children:s.name})]})},s.id))})]}),t.forum_category_id&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-red-500",children:[e.jsx(d,{className:"h-4 w-4"}),e.jsx("span",{children:t.forum_category_id})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"title",children:["Judul Diskusi"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(v,{id:"title",type:"text",placeholder:"Tulis judul yang jelas dan deskriptif",value:r.title,onChange:s=>l("title",s.target.value),className:t.title?"border-red-500":"",maxLength:255}),e.jsxs("div",{className:"flex items-center justify-between",children:[t.title&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-red-500",children:[e.jsx(d,{className:"h-4 w-4"}),e.jsx("span",{children:t.title})]}),e.jsxs("span",{className:"ml-auto text-xs text-gray-500",children:[r.title.length,"/255"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"content",children:["Isi Diskusi"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"content",placeholder:"Jelaskan topik diskusi Anda dengan detail...",value:r.content,onChange:s=>l("content",s.target.value),className:t.content?"min-h-[300px] border-red-500":"min-h-[300px]"}),t.content&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-red-500",children:[e.jsx(d,{className:"h-4 w-4"}),e.jsx("span",{children:t.content})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Gunakan bahasa yang sopan dan jelas. Hindari SPAM dan konten yang tidak pantas."})]}),e.jsxs("div",{className:"flex items-center justify-between border-t pt-6",children:[e.jsx(c,{href:`/forum/${a.slug}`,children:e.jsx(m,{type:"button",variant:"ghost",disabled:n,children:"Batal"})}),e.jsx(m,{type:"submit",disabled:n,className:"min-w-[150px]",children:n?e.jsxs(e.Fragment,{children:[e.jsx(i,{iconNode:I,className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):e.jsxs(e.Fragment,{children:[e.jsx(i,{iconNode:P,className:"mr-2 h-4 w-4"}),"Simpan Perubahan"]})})]})]})})]}),e.jsx(x,{className:"border-yellow-200 bg-yellow-50",children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{iconNode:T,className:"mt-0.5 h-5 w-5 flex-shrink-0 text-yellow-600"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-yellow-900",children:"Perhatian"}),e.jsx("p",{className:"text-sm text-yellow-800",children:"Pastikan perubahan yang Anda lakukan sesuai dengan topik diskusi awal. Perubahan besar yang mengubah konteks diskusi dapat membingungkan peserta lain."})]})]})})})]})]})}export{oe as default};
