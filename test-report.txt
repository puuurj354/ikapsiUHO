[0;34m╔══════════════════════════════════════════════════════╗[0m
[0;34m║     iKAPSI UHO - Pre-Deployment Testing             ║[0m
[0;34m╚══════════════════════════════════════════════════════╝[0m

[0;34m[TEST][0m Checking required files...
[0;32m[PASS][0m Found: composer.json
[0;32m[PASS][0m Found: package.json
[0;32m[PASS][0m Found: artisan
[0;32m[PASS][0m Found: docker-compose.yml
[0;32m[PASS][0m Found: Dockerfile
[0;32m[PASS][0m Found: .env.production
[0;34m[TEST][0m Checking .env.production configuration...
[0;32m[PASS][0m APP_KEY is configured
[0;32m[PASS][0m DB_DATABASE is configured
[0;32m[PASS][0m DB_USERNAME is configured
[0;32m[PASS][0m DB_PASSWORD is configured
[0;32m[PASS][0m APP_URL is configured
[0;34m[TEST][0m Checking PHP dependencies...
[0;32m[PASS][0m Vendor directory exists
[0;34m[TEST][0m Checking Node dependencies...
[0;32m[PASS][0m Node modules exist
[0;34m[TEST][0m Testing frontend build...
$ vite build
You are using Node.js 22.3.0. Vite requires Node.js version 20.19+ or 22.12+. Please upgrade your Node.js version.
vite v7.1.5 building for production...
[plugin @laravel/vite-plugin-wayfinder] Types generated for actions, routes, form variants
transforming...
✓ 1411 modules transformed.
✗ Build failed in 20.82s
error during build:
[vite:load-fallback] Could not load /resources/js/routes/password/confirm (imported by resources/js/pages/auth/confirm-password.tsx): ENOENT: no such file or directory, open '/resources/js/routes/password/confirm'
    at async open (node:internal/fs/promises:641:25)
    at async Object.readFile (node:internal/fs/promises:1254:14)
    at async Object.handler (file:///home/purnama/Documents/ikapsiUHO/node_modules/vite/dist/node/chunks/dep-M_KD0XSK.js:33969:21)
    at async PluginDriver.hookFirstAndGetPlugin (file:///home/purnama/Documents/ikapsiUHO/node_modules/rollup/dist/es/shared/node-entry.js:22233:28)
    at async file:///home/purnama/Documents/ikapsiUHO/node_modules/rollup/dist/es/shared/node-entry.js:21237:33
    at async Queue.work (file:///home/purnama/Documents/ikapsiUHO/node_modules/rollup/dist/es/shared/node-entry.js:22461:32)
error: script "build" exited with code 1
[0;31m[FAIL][0m Frontend build failed
[0;34m[TEST][0m Checking Laravel structure...
[0;32m[PASS][0m Found: app/
[0;32m[PASS][0m Found: config/
[0;32m[PASS][0m Found: database/
[0;32m[PASS][0m Found: resources/
[0;32m[PASS][0m Found: routes/
[0;34m[TEST][0m Checking Docker configuration...
[0;32m[PASS][0m Docker is installed: Docker version 28.3.0, build 38b7060
[0;32m[PASS][0m Docker Compose is installed: Docker Compose version v2.20.2
[0;34m[TEST][0m Validating docker-compose.yml...
[0;32m[PASS][0m docker-compose.yml is valid
[0;34m[TEST][0m Checking database migrations...
[0;32m[PASS][0m Found 15 migration files
[0;34m[TEST][0m Checking for common issues...
[0;32m[PASS][0m Storage directory exists
[0;32m[PASS][0m Bootstrap cache directory exists

[0;34m╔══════════════════════════════════════════════════════╗[0m
[0;31m║  ❌ Some tests failed!                               ║[0m
[0;34m╚══════════════════════════════════════════════════════╝[0m

[0;31mPlease fix the issues above before deploying.[0m
